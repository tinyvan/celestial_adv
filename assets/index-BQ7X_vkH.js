const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AboutView-BiUnTX1E.js","assets/AboutView-Ce4jS-IM.css","assets/RecruitmentView-DBttsBlG.js","assets/RecruitmentView-DkZ89Z_-.css"])))=>i.map(i=>d[i]);
import*as S from"three";import{Controls as Us,Vector3 as G,MOUSE as we,TOUCH as Te,Quaternion as qe,Spherical as Pt,Vector2 as H,Ray as Vs,Plane as js,MathUtils as us,TrianglesDrawMode as Bs,TriangleFanDrawMode as ft,TriangleStripDrawMode as hs,Loader as fs,LoaderUtils as De,FileLoader as Ye,MeshPhysicalMaterial as ae,Color as ee,LinearSRGBColorSpace as re,SRGBColorSpace as pe,SpotLight as Hs,PointLight as Gs,DirectionalLight as zs,Matrix4 as We,InstancedMesh as Ks,InstancedBufferAttribute as Xs,Object3D as ds,TextureLoader as qs,ImageBitmapLoader as Ys,BufferAttribute as Ne,InterleavedBuffer as Ws,InterleavedBufferAttribute as Qs,LinearMipmapLinearFilter as ps,NearestMipmapLinearFilter as Zs,LinearMipmapNearestFilter as $s,NearestMipmapNearestFilter as Js,LinearFilter as dt,NearestFilter as ms,RepeatWrapping as pt,MirroredRepeatWrapping as en,ClampToEdgeWrapping as tn,PointsMaterial as sn,Material as et,LineBasicMaterial as nn,MeshStandardMaterial as gs,DoubleSide as on,MeshBasicMaterial as be,PropertyBinding as rn,BufferGeometry as xt,SkinnedMesh as an,Mesh as ys,LineSegments as cn,Line as ln,LineLoop as un,Points as hn,Group as tt,PerspectiveCamera as fn,OrthographicCamera as _s,Skeleton as dn,AnimationClip as pn,Bone as mn,InterpolateDiscrete as gn,InterpolateLinear as Ts,Texture as Mt,VectorKeyframeTrack as Ct,NumberKeyframeTrack as Lt,QuaternionKeyframeTrack as kt,ColorManagement as mt,FrontSide as yn,Interpolant as _n,Box3 as Tn,Sphere as bn,Float32BufferAttribute as Ot,ShaderMaterial as Ee,UniformsUtils as gt,WebGLRenderTarget as Ge,HalfFloatType as ze,NoBlending as En,Clock as wn,AdditiveBlending as xn}from"three";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Rn=Symbol();var Dt;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(Dt||(Dt={}));function Sn(){const r=Vue.effectScope(!0),e=r.run(()=>Vue.ref({}));let t=[],n=[];const s=Vue.markRaw({install(i){s._a=i,i.provide(Rn,s),i.config.globalProperties.$pinia=s,n.forEach(o=>t.push(o)),n=[]},use(i){return this._a?t.push(i):n.push(i),this},_p:t,_a:null,_e:r,_s:new Map,state:e});return s}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const _e=typeof document<"u";function bs(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function vn(r){return r.__esModule||r[Symbol.toStringTag]==="Module"||r.default&&bs(r.default)}const B=Object.assign;function st(r,e){const t={};for(const n in e){const s=e[n];t[n]=se(s)?s.map(r):r(s)}return t}const Ie=()=>{},se=Array.isArray,Es=/#/g,An=/&/g,Pn=/\//g,Mn=/=/g,Cn=/\?/g,ws=/\+/g,Ln=/%5B/g,kn=/%5D/g,xs=/%5E/g,On=/%60/g,Rs=/%7B/g,Dn=/%7C/g,Ss=/%7D/g,Nn=/%20/g;function Rt(r){return encodeURI(""+r).replace(Dn,"|").replace(Ln,"[").replace(kn,"]")}function In(r){return Rt(r).replace(Rs,"{").replace(Ss,"}").replace(xs,"^")}function yt(r){return Rt(r).replace(ws,"%2B").replace(Nn,"+").replace(Es,"%23").replace(An,"%26").replace(On,"`").replace(Rs,"{").replace(Ss,"}").replace(xs,"^")}function Fn(r){return yt(r).replace(Mn,"%3D")}function Un(r){return Rt(r).replace(Es,"%23").replace(Cn,"%3F")}function Vn(r){return r==null?"":Un(r).replace(Pn,"%2F")}function Fe(r){try{return decodeURIComponent(""+r)}catch{}return""+r}const jn=/\/$/,Bn=r=>r.replace(jn,"");function nt(r,e,t="/"){let n,s={},i="",o="";const c=e.indexOf("#");let a=e.indexOf("?");return c<a&&c>=0&&(a=-1),a>-1&&(n=e.slice(0,a),i=e.slice(a+1,c>-1?c:e.length),s=r(i)),c>-1&&(n=n||e.slice(0,c),o=e.slice(c,e.length)),n=Kn(n??e,t),{fullPath:n+(i&&"?")+i+o,path:n,query:s,hash:Fe(o)}}function Hn(r,e){const t=e.query?r(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Gn(r,e,t){const n=e.matched.length-1,s=t.matched.length-1;return n>-1&&n===s&&Re(e.matched[n],t.matched[s])&&vs(e.params,t.params)&&r(e.query)===r(t.query)&&e.hash===t.hash}function Re(r,e){return(r.aliasOf||r)===(e.aliasOf||e)}function vs(r,e){if(Object.keys(r).length!==Object.keys(e).length)return!1;for(const t in r)if(!zn(r[t],e[t]))return!1;return!0}function zn(r,e){return se(r)?Nt(r,e):se(e)?Nt(e,r):r===e}function Nt(r,e){return se(e)?r.length===e.length&&r.every((t,n)=>t===e[n]):r.length===1&&r[0]===e}function Kn(r,e){if(r.startsWith("/"))return r;if(!r)return e;const t=e.split("/"),n=r.split("/"),s=n[n.length-1];(s===".."||s===".")&&n.push("");let i=t.length-1,o,c;for(o=0;o<n.length;o++)if(c=n[o],c!==".")if(c==="..")i>1&&i--;else break;return t.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const he={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ue;(function(r){r.pop="pop",r.push="push"})(Ue||(Ue={}));var Qe;(function(r){r.back="back",r.forward="forward",r.unknown=""})(Qe||(Qe={}));const it="";function Xn(r){if(!r)if(_e){const e=document.querySelector("base");r=e&&e.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),Bn(r)}const qn=/^[^#]+#/;function Yn(r,e){return r.replace(qn,"#")+e}function Wn(r,e){const t=document.documentElement.getBoundingClientRect(),n=r.getBoundingClientRect();return{behavior:e.behavior,left:n.left-t.left-(e.left||0),top:n.top-t.top-(e.top||0)}}const Qn=()=>({left:window.scrollX,top:window.scrollY});function Zn(r){let e;if("el"in r){const t=r.el,n=typeof t=="string"&&t.startsWith("#"),s=typeof t=="string"?n?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!s)return;e=Wn(s,r)}else e=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function It(r,e){return(history.state?history.state.position-e:-1)+r}const _t=new Map;function $n(r,e){_t.set(r,e)}function Jn(r){const e=_t.get(r);return _t.delete(r),e}function ei(r=""){let e=[],t=[[it,{}]],n=0;r=Xn(r);function s(c,a={}){n++,n!==t.length&&t.splice(n),t.push([c,a])}function i(c,a,{direction:l,delta:h}){const u={direction:l,delta:h,type:Ue.pop};for(const f of e)f(c,a,u)}const o={location:it,state:{},base:r,createHref:Yn.bind(null,r),replace(c,a){t.splice(n--,1),s(c,a)},push(c,a){s(c,a)},listen(c){return e.push(c),()=>{const a=e.indexOf(c);a>-1&&e.splice(a,1)}},destroy(){e=[],t=[[it,{}]],n=0},go(c,a=!0){const l=this.location,h=c<0?Qe.back:Qe.forward;n=Math.max(0,Math.min(n+c,t.length-1)),a&&i(this.location,l,{direction:h,delta:c})}};return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t[n][0]}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t[n][1]}),o}function ti(r){return typeof r=="string"||r&&typeof r=="object"}function As(r){return typeof r=="string"||typeof r=="symbol"}const Ps=Symbol("");var Ft;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(Ft||(Ft={}));function Se(r,e){return B(new Error,{type:r,[Ps]:!0},e)}function ce(r,e){return r instanceof Error&&Ps in r&&(e==null||!!(r.type&e))}const Ut="[^/]+?",si={sensitive:!1,strict:!1,start:!0,end:!0},ni=/[.+*?^${}()[\]/\\]/g;function ii(r,e){const t=B({},si,e),n=[];let s=t.start?"^":"";const i=[];for(const l of r){const h=l.length?[]:[90];t.strict&&!l.length&&(s+="/");for(let u=0;u<l.length;u++){const f=l[u];let d=40+(t.sensitive?.25:0);if(f.type===0)u||(s+="/"),s+=f.value.replace(ni,"\\$&"),d+=40;else if(f.type===1){const{value:y,repeatable:b,optional:_,regexp:w}=f;i.push({name:y,repeatable:b,optional:_});const E=w||Ut;if(E!==Ut){d+=10;try{new RegExp(`(${E})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${y}" (${E}): `+A.message)}}let R=b?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;u||(R=_&&l.length<2?`(?:/${R})`:"/"+R),_&&(R+="?"),s+=R,d+=20,_&&(d+=-8),b&&(d+=-20),E===".*"&&(d+=-50)}h.push(d)}n.push(h)}if(t.strict&&t.end){const l=n.length-1;n[l][n[l].length-1]+=.7000000000000001}t.strict||(s+="/?"),t.end?s+="$":t.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,t.sensitive?"":"i");function c(l){const h=l.match(o),u={};if(!h)return null;for(let f=1;f<h.length;f++){const d=h[f]||"",y=i[f-1];u[y.name]=d&&y.repeatable?d.split("/"):d}return u}function a(l){let h="",u=!1;for(const f of r){(!u||!h.endsWith("/"))&&(h+="/"),u=!1;for(const d of f)if(d.type===0)h+=d.value;else if(d.type===1){const{value:y,repeatable:b,optional:_}=d,w=y in l?l[y]:"";if(se(w)&&!b)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const E=se(w)?w.join("/"):w;if(!E)if(_)f.length<2&&(h.endsWith("/")?h=h.slice(0,-1):u=!0);else throw new Error(`Missing required param "${y}"`);h+=E}}return h||"/"}return{re:o,score:n,keys:i,parse:c,stringify:a}}function oi(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=e[t]-r[t];if(n)return n;t++}return r.length<e.length?r.length===1&&r[0]===80?-1:1:r.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Ms(r,e){let t=0;const n=r.score,s=e.score;for(;t<n.length&&t<s.length;){const i=oi(n[t],s[t]);if(i)return i;t++}if(Math.abs(s.length-n.length)===1){if(Vt(n))return 1;if(Vt(s))return-1}return s.length-n.length}function Vt(r){const e=r[r.length-1];return r.length>0&&e[e.length-1]<0}const ri={type:0,value:""},ai=/[a-zA-Z0-9_]/;function ci(r){if(!r)return[[]];if(r==="/")return[[ri]];if(!r.startsWith("/"))throw new Error(`Invalid path "${r}"`);function e(d){throw new Error(`ERR (${t})/"${l}": ${d}`)}let t=0,n=t;const s=[];let i;function o(){i&&s.push(i),i=[]}let c=0,a,l="",h="";function u(){l&&(t===0?i.push({type:0,value:l}):t===1||t===2||t===3?(i.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:h,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),l="")}function f(){l+=a}for(;c<r.length;){if(a=r[c++],a==="\\"&&t!==2){n=t,t=4;continue}switch(t){case 0:a==="/"?(l&&u(),o()):a===":"?(u(),t=1):f();break;case 4:f(),t=n;break;case 1:a==="("?t=2:ai.test(a)?f():(u(),t=0,a!=="*"&&a!=="?"&&a!=="+"&&c--);break;case 2:a===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+a:t=3:h+=a;break;case 3:u(),t=0,a!=="*"&&a!=="?"&&a!=="+"&&c--,h="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${l}"`),u(),o(),s}function li(r,e,t){const n=ii(ci(r.path),t),s=B(n,{record:r,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function ui(r,e){const t=[],n=new Map;e=Gt({strict:!1,end:!0,sensitive:!1},e);function s(u){return n.get(u)}function i(u,f,d){const y=!d,b=Bt(u);b.aliasOf=d&&d.record;const _=Gt(e,u),w=[b];if("alias"in u){const A=typeof u.alias=="string"?[u.alias]:u.alias;for(const j of A)w.push(Bt(B({},b,{components:d?d.record.components:b.components,path:j,aliasOf:d?d.record:b})))}let E,R;for(const A of w){const{path:j}=A;if(f&&j[0]!=="/"){const N=f.record.path,k=N[N.length-1]==="/"?"":"/";A.path=f.record.path+(j&&k+j)}if(E=li(A,f,_),d?d.alias.push(E):(R=R||E,R!==E&&R.alias.push(E),y&&u.name&&!Ht(E)&&o(u.name)),Cs(E)&&a(E),b.children){const N=b.children;for(let k=0;k<N.length;k++)i(N[k],E,d&&d.children[k])}d=d||E}return R?()=>{o(R)}:Ie}function o(u){if(As(u)){const f=n.get(u);f&&(n.delete(u),t.splice(t.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=t.indexOf(u);f>-1&&(t.splice(f,1),u.record.name&&n.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function c(){return t}function a(u){const f=di(u,t);t.splice(f,0,u),u.record.name&&!Ht(u)&&n.set(u.record.name,u)}function l(u,f){let d,y={},b,_;if("name"in u&&u.name){if(d=n.get(u.name),!d)throw Se(1,{location:u});_=d.record.name,y=B(jt(f.params,d.keys.filter(R=>!R.optional).concat(d.parent?d.parent.keys.filter(R=>R.optional):[]).map(R=>R.name)),u.params&&jt(u.params,d.keys.map(R=>R.name))),b=d.stringify(y)}else if(u.path!=null)b=u.path,d=t.find(R=>R.re.test(b)),d&&(y=d.parse(b),_=d.record.name);else{if(d=f.name?n.get(f.name):t.find(R=>R.re.test(f.path)),!d)throw Se(1,{location:u,currentLocation:f});_=d.record.name,y=B({},f.params,u.params),b=d.stringify(y)}const w=[];let E=d;for(;E;)w.unshift(E.record),E=E.parent;return{name:_,path:b,params:y,matched:w,meta:fi(w)}}r.forEach(u=>i(u));function h(){t.length=0,n.clear()}return{addRoute:i,resolve:l,removeRoute:o,clearRoutes:h,getRoutes:c,getRecordMatcher:s}}function jt(r,e){const t={};for(const n of e)n in r&&(t[n]=r[n]);return t}function Bt(r){const e={path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:r.aliasOf,beforeEnter:r.beforeEnter,props:hi(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||null:r.component&&{default:r.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function hi(r){const e={},t=r.props||!1;if("component"in r)e.default=t;else for(const n in r.components)e[n]=typeof t=="object"?t[n]:t;return e}function Ht(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function fi(r){return r.reduce((e,t)=>B(e,t.meta),{})}function Gt(r,e){const t={};for(const n in r)t[n]=n in e?e[n]:r[n];return t}function di(r,e){let t=0,n=e.length;for(;t!==n;){const i=t+n>>1;Ms(r,e[i])<0?n=i:t=i+1}const s=pi(r);return s&&(n=e.lastIndexOf(s,n-1)),n}function pi(r){let e=r;for(;e=e.parent;)if(Cs(e)&&Ms(r,e)===0)return e}function Cs({record:r}){return!!(r.name||r.components&&Object.keys(r.components).length||r.redirect)}function mi(r){const e={};if(r===""||r==="?")return e;const n=(r[0]==="?"?r.slice(1):r).split("&");for(let s=0;s<n.length;++s){const i=n[s].replace(ws," "),o=i.indexOf("="),c=Fe(o<0?i:i.slice(0,o)),a=o<0?null:Fe(i.slice(o+1));if(c in e){let l=e[c];se(l)||(l=e[c]=[l]),l.push(a)}else e[c]=a}return e}function zt(r){let e="";for(let t in r){const n=r[t];if(t=Fn(t),n==null){n!==void 0&&(e+=(e.length?"&":"")+t);continue}(se(n)?n.map(i=>i&&yt(i)):[n&&yt(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+t,i!=null&&(e+="="+i))})}return e}function gi(r){const e={};for(const t in r){const n=r[t];n!==void 0&&(e[t]=se(n)?n.map(s=>s==null?null:""+s):n==null?n:""+n)}return e}const yi=Symbol(""),Kt=Symbol(""),Ze=Symbol(""),St=Symbol(""),Tt=Symbol("");function ke(){let r=[];function e(n){return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}function t(){r=[]}return{add:e,list:()=>r.slice(),reset:t}}function de(r,e,t,n,s,i=o=>o()){const o=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise((c,a)=>{const l=f=>{f===!1?a(Se(4,{from:t,to:e})):f instanceof Error?a(f):ti(f)?a(Se(2,{from:e,to:f})):(o&&n.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),c())},h=i(()=>r.call(n&&n.instances[s],e,t,l));let u=Promise.resolve(h);r.length<3&&(u=u.then(l)),u.catch(f=>a(f))})}function ot(r,e,t,n,s=i=>i()){const i=[];for(const o of r)for(const c in o.components){let a=o.components[c];if(!(e!=="beforeRouteEnter"&&!o.instances[c]))if(bs(a)){const h=(a.__vccOpts||a)[e];h&&i.push(de(h,t,n,o,c,s))}else{let l=a();i.push(()=>l.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${c}" at "${o.path}"`);const u=vn(h)?h.default:h;o.mods[c]=h,o.components[c]=u;const d=(u.__vccOpts||u)[e];return d&&de(d,t,n,o,c,s)()}))}}return i}function Xt(r){const e=Vue.inject(Ze),t=Vue.inject(St),n=Vue.computed(()=>{const a=Vue.unref(r.to);return e.resolve(a)}),s=Vue.computed(()=>{const{matched:a}=n.value,{length:l}=a,h=a[l-1],u=t.matched;if(!h||!u.length)return-1;const f=u.findIndex(Re.bind(null,h));if(f>-1)return f;const d=qt(a[l-2]);return l>1&&qt(h)===d&&u[u.length-1].path!==d?u.findIndex(Re.bind(null,a[l-2])):f}),i=Vue.computed(()=>s.value>-1&&Ei(t.params,n.value.params)),o=Vue.computed(()=>s.value>-1&&s.value===t.matched.length-1&&vs(t.params,n.value.params));function c(a={}){if(bi(a)){const l=e[Vue.unref(r.replace)?"replace":"push"](Vue.unref(r.to)).catch(Ie);return r.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:n,href:Vue.computed(()=>n.value.href),isActive:i,isExactActive:o,navigate:c}}function _i(r){return r.length===1?r[0]:r}const Ti=Vue.defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Xt,setup(r,{slots:e}){const t=Vue.reactive(Xt(r)),{options:n}=Vue.inject(Ze),s=Vue.computed(()=>({[Yt(r.activeClass,n.linkActiveClass,"router-link-active")]:t.isActive,[Yt(r.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const i=e.default&&_i(e.default(t));return r.custom?i:Vue.h("a",{"aria-current":t.isExactActive?r.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:s.value},i)}}}),Ke=Ti;function bi(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const e=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return r.preventDefault&&r.preventDefault(),!0}}function Ei(r,e){for(const t in e){const n=e[t],s=r[t];if(typeof n=="string"){if(n!==s)return!1}else if(!se(s)||s.length!==n.length||n.some((i,o)=>i!==s[o]))return!1}return!0}function qt(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const Yt=(r,e,t)=>r??e??t,wi=Vue.defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(r,{attrs:e,slots:t}){const n=Vue.inject(Tt),s=Vue.computed(()=>r.route||n.value),i=Vue.inject(Kt,0),o=Vue.computed(()=>{let l=Vue.unref(i);const{matched:h}=s.value;let u;for(;(u=h[l])&&!u.components;)l++;return l}),c=Vue.computed(()=>s.value.matched[o.value]);Vue.provide(Kt,Vue.computed(()=>o.value+1)),Vue.provide(yi,c),Vue.provide(Tt,s);const a=Vue.ref();return Vue.watch(()=>[a.value,c.value,r.name],([l,h,u],[f,d,y])=>{h&&(h.instances[u]=l,d&&d!==h&&l&&l===f&&(h.leaveGuards.size||(h.leaveGuards=d.leaveGuards),h.updateGuards.size||(h.updateGuards=d.updateGuards))),l&&h&&(!d||!Re(h,d)||!f)&&(h.enterCallbacks[u]||[]).forEach(b=>b(l))},{flush:"post"}),()=>{const l=s.value,h=r.name,u=c.value,f=u&&u.components[h];if(!f)return Wt(t.default,{Component:f,route:l});const d=u.props[h],y=d?d===!0?l.params:typeof d=="function"?d(l):d:null,b=w=>{w.component.isUnmounted&&(u.instances[h]=null)},_=Vue.h(f,B({},y,e,{onVnodeUnmounted:b,ref:a}));return Wt(t.default,{Component:_,route:l})||_}}});function Wt(r,e){if(!r)return null;const t=r(e);return t.length===1?t[0]:t}const Ls=wi;function xi(r){const e=ui(r.routes,r),t=r.parseQuery||mi,n=r.stringifyQuery||zt,s=r.history,i=ke(),o=ke(),c=ke(),a=Vue.shallowRef(he);let l=he;_e&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=st.bind(null,p=>""+p),u=st.bind(null,Vn),f=st.bind(null,Fe);function d(p,g){let m,T;return As(p)?(m=e.getRecordMatcher(p),T=g):T=p,e.addRoute(T,m)}function y(p){const g=e.getRecordMatcher(p);g&&e.removeRoute(g)}function b(){return e.getRoutes().map(p=>p.record)}function _(p){return!!e.getRecordMatcher(p)}function w(p,g){if(g=B({},g||a.value),typeof p=="string"){const x=nt(t,p,g.path),I=e.resolve({path:x.path},g),z=s.createHref(x.fullPath);return B(x,I,{params:f(I.params),hash:Fe(x.hash),redirectedFrom:void 0,href:z})}let m;if(p.path!=null)m=B({},p,{path:nt(t,p.path,g.path).path});else{const x=B({},p.params);for(const I in x)x[I]==null&&delete x[I];m=B({},p,{params:u(x)}),g.params=u(g.params)}const T=e.resolve(m,g),P=p.hash||"";T.params=h(f(T.params));const M=Hn(n,B({},p,{hash:In(P),path:T.path})),v=s.createHref(M);return B({fullPath:M,hash:P,query:n===zt?gi(p.query):p.query||{}},T,{redirectedFrom:void 0,href:v})}function E(p){return typeof p=="string"?nt(t,p,a.value.path):B({},p)}function R(p,g){if(l!==p)return Se(8,{from:g,to:p})}function A(p){return k(p)}function j(p){return A(B(E(p),{replace:!0}))}function N(p){const g=p.matched[p.matched.length-1];if(g&&g.redirect){const{redirect:m}=g;let T=typeof m=="function"?m(p):m;return typeof T=="string"&&(T=T.includes("?")||T.includes("#")?T=E(T):{path:T},T.params={}),B({query:p.query,hash:p.hash,params:T.path!=null?{}:p.params},T)}}function k(p,g){const m=l=w(p),T=a.value,P=p.state,M=p.force,v=p.replace===!0,x=N(m);if(x)return k(B(E(x),{state:typeof x=="object"?B({},P,x.state):P,force:M,replace:v}),g||m);const I=m;I.redirectedFrom=g;let z;return!M&&Gn(n,T,m)&&(z=Se(16,{to:I,from:T}),oe(T,T,!0,!1)),(z?Promise.resolve(z):ne(I,T)).catch(F=>ce(F)?ce(F,2)?F:Ce(F):Me(F,I,T)).then(F=>{if(F){if(ce(F,2))return k(B({replace:v},E(F.to),{state:typeof F.to=="object"?B({},P,F.to.state):P,force:M}),g||I)}else F=Pe(I,T,!0,v,P);return Ae(I,T,F),F})}function W(p,g){const m=R(p,g);return m?Promise.reject(m):Promise.resolve()}function Y(p){const g=ye.values().next().value;return g&&typeof g.runWithContext=="function"?g.runWithContext(p):p()}function ne(p,g){let m;const[T,P,M]=Ri(p,g);m=ot(T.reverse(),"beforeRouteLeave",p,g);for(const x of T)x.leaveGuards.forEach(I=>{m.push(de(I,p,g))});const v=W.bind(null,p,g);return m.push(v),O(m).then(()=>{m=[];for(const x of i.list())m.push(de(x,p,g));return m.push(v),O(m)}).then(()=>{m=ot(P,"beforeRouteUpdate",p,g);for(const x of P)x.updateGuards.forEach(I=>{m.push(de(I,p,g))});return m.push(v),O(m)}).then(()=>{m=[];for(const x of M)if(x.beforeEnter)if(se(x.beforeEnter))for(const I of x.beforeEnter)m.push(de(I,p,g));else m.push(de(x.beforeEnter,p,g));return m.push(v),O(m)}).then(()=>(p.matched.forEach(x=>x.enterCallbacks={}),m=ot(M,"beforeRouteEnter",p,g,Y),m.push(v),O(m))).then(()=>{m=[];for(const x of o.list())m.push(de(x,p,g));return m.push(v),O(m)}).catch(x=>ce(x,8)?x:Promise.reject(x))}function Ae(p,g,m){c.list().forEach(T=>Y(()=>T(p,g,m)))}function Pe(p,g,m,T,P){const M=R(p,g);if(M)return M;const v=g===he,x=_e?history.state:{};m&&(T||v?s.replace(p.fullPath,B({scroll:v&&x&&x.scroll},P)):s.push(p.fullPath,P)),a.value=p,oe(p,g,m,v),Ce()}let ie;function $e(){ie||(ie=s.listen((p,g,m)=>{if(!Be.listening)return;const T=w(p),P=N(T);if(P){k(B(P,{replace:!0,force:!0}),T).catch(Ie);return}l=T;const M=a.value;_e&&$n(It(M.fullPath,m.delta),Qn()),ne(T,M).catch(v=>ce(v,12)?v:ce(v,2)?(k(B(E(v.to),{force:!0}),T).then(x=>{ce(x,20)&&!m.delta&&m.type===Ue.pop&&s.go(-1,!1)}).catch(Ie),Promise.reject()):(m.delta&&s.go(-m.delta,!1),Me(v,T,M))).then(v=>{v=v||Pe(T,M,!1),v&&(m.delta&&!ce(v,8)?s.go(-m.delta,!1):m.type===Ue.pop&&ce(v,20)&&s.go(-1,!1)),Ae(T,M,v)}).catch(Ie)}))}let te=ke(),je=ke(),ge;function Me(p,g,m){Ce(p);const T=je.list();return T.length?T.forEach(P=>P(p,g,m)):console.error(p),Promise.reject(p)}function Je(){return ge&&a.value!==he?Promise.resolve():new Promise((p,g)=>{te.add([p,g])})}function Ce(p){return ge||(ge=!p,$e(),te.list().forEach(([g,m])=>p?m(p):g()),te.reset()),p}function oe(p,g,m,T){const{scrollBehavior:P}=r;if(!_e||!P)return Promise.resolve();const M=!m&&Jn(It(p.fullPath,0))||(T||!m)&&history.state&&history.state.scroll||null;return Vue.nextTick().then(()=>P(p,g,M)).then(v=>v&&Zn(v)).catch(v=>Me(v,p,g))}const Le=p=>s.go(p);let ue;const ye=new Set,Be={currentRoute:a,listening:!0,addRoute:d,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:_,getRoutes:b,resolve:w,options:r,push:A,replace:j,go:Le,back:()=>Le(-1),forward:()=>Le(1),beforeEach:i.add,beforeResolve:o.add,afterEach:c.add,onError:je.add,isReady:Je,install(p){const g=this;p.component("RouterLink",Ke),p.component("RouterView",Ls),p.config.globalProperties.$router=g,Object.defineProperty(p.config.globalProperties,"$route",{enumerable:!0,get:()=>Vue.unref(a)}),_e&&!ue&&a.value===he&&(ue=!0,A(s.location).catch(P=>{}));const m={};for(const P in he)Object.defineProperty(m,P,{get:()=>a.value[P],enumerable:!0});p.provide(Ze,g),p.provide(St,Vue.shallowReactive(m)),p.provide(Tt,a);const T=p.unmount;ye.add(p),p.unmount=function(){ye.delete(p),ye.size<1&&(l=he,ie&&ie(),ie=null,a.value=he,ue=!1,ge=!1),T()}}};function O(p){return p.reduce((g,m)=>g.then(()=>Y(m)),Promise.resolve())}return Be}function Ri(r,e){const t=[],n=[],s=[],i=Math.max(e.matched.length,r.matched.length);for(let o=0;o<i;o++){const c=e.matched[o];c&&(r.matched.find(l=>Re(l,c))?n.push(c):t.push(c));const a=r.matched[o];a&&(e.matched.find(l=>Re(l,a))||s.push(a))}return[t,n,s]}function Si(){return Vue.inject(Ze)}function vi(r){return Vue.inject(St)}const Qt={type:"change"},vt={type:"start"},ks={type:"end"},He=new Vs,Zt=new js,Ai=Math.cos(70*us.DEG2RAD),X=new G,Z=2*Math.PI,U={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},rt=1e-6;class Pi extends Us{constructor(e,t=null){super(e,t),this.state=U.NONE,this.target=new G,this.cursor=new G,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:we.ROTATE,MIDDLE:we.DOLLY,RIGHT:we.PAN},this.touches={ONE:Te.ROTATE,TWO:Te.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new G,this._lastQuaternion=new qe,this._lastTargetPosition=new G,this._quat=new qe().setFromUnitVectors(e.up,new G(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new Pt,this._sphericalDelta=new Pt,this._scale=1,this._panOffset=new G,this._rotateStart=new H,this._rotateEnd=new H,this._rotateDelta=new H,this._panStart=new H,this._panEnd=new H,this._panDelta=new H,this._dollyStart=new H,this._dollyEnd=new H,this._dollyDelta=new H,this._dollyDirection=new G,this._mouse=new H,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=Ci.bind(this),this._onPointerDown=Mi.bind(this),this._onPointerUp=Li.bind(this),this._onContextMenu=Ui.bind(this),this._onMouseWheel=Di.bind(this),this._onKeyDown=Ni.bind(this),this._onTouchStart=Ii.bind(this),this._onTouchMove=Fi.bind(this),this._onMouseDown=ki.bind(this),this._onMouseMove=Oi.bind(this),this._interceptControlDown=Vi.bind(this),this._interceptControlUp=ji.bind(this),this.domElement!==null&&this.connect(this.domElement),this.update()}connect(e){super.connect(e),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(Qt),this.update(),this.state=U.NONE}update(e=null){const t=this.object.position;X.copy(t).sub(this.target),X.applyQuaternion(this._quat),this._spherical.setFromVector3(X),this.autoRotate&&this.state===U.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let n=this.minAzimuthAngle,s=this.maxAzimuthAngle;isFinite(n)&&isFinite(s)&&(n<-Math.PI?n+=Z:n>Math.PI&&(n-=Z),s<-Math.PI?s+=Z:s>Math.PI&&(s-=Z),n<=s?this._spherical.theta=Math.max(n,Math.min(s,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(n+s)/2?Math.max(n,this._spherical.theta):Math.min(s,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let i=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const o=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),i=o!=this._spherical.radius}if(X.setFromSpherical(this._spherical),X.applyQuaternion(this._quatInverse),t.copy(this.target).add(X),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let o=null;if(this.object.isPerspectiveCamera){const c=X.length();o=this._clampDistance(c*this._scale);const a=c-o;this.object.position.addScaledVector(this._dollyDirection,a),this.object.updateMatrixWorld(),i=!!a}else if(this.object.isOrthographicCamera){const c=new G(this._mouse.x,this._mouse.y,0);c.unproject(this.object);const a=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),i=a!==this.object.zoom;const l=new G(this._mouse.x,this._mouse.y,0);l.unproject(this.object),this.object.position.sub(l).add(c),this.object.updateMatrixWorld(),o=X.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;o!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(o).add(this.object.position):(He.origin.copy(this.object.position),He.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(He.direction))<Ai?this.object.lookAt(this.target):(Zt.setFromNormalAndCoplanarPoint(this.object.up,this.target),He.intersectPlane(Zt,this.target))))}else if(this.object.isOrthographicCamera){const o=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),o!==this.object.zoom&&(this.object.updateProjectionMatrix(),i=!0)}return this._scale=1,this._performCursorZoom=!1,i||this._lastPosition.distanceToSquared(this.object.position)>rt||8*(1-this._lastQuaternion.dot(this.object.quaternion))>rt||this._lastTargetPosition.distanceToSquared(this.target)>rt?(this.dispatchEvent(Qt),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e!==null?Z/60*this.autoRotateSpeed*e:Z/60/60*this.autoRotateSpeed}_getZoomScale(e){const t=Math.abs(e*.01);return Math.pow(.95,this.zoomSpeed*t)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,t){X.setFromMatrixColumn(t,0),X.multiplyScalar(-e),this._panOffset.add(X)}_panUp(e,t){this.screenSpacePanning===!0?X.setFromMatrixColumn(t,1):(X.setFromMatrixColumn(t,0),X.crossVectors(this.object.up,X)),X.multiplyScalar(e),this._panOffset.add(X)}_pan(e,t){const n=this.domElement;if(this.object.isPerspectiveCamera){const s=this.object.position;X.copy(s).sub(this.target);let i=X.length();i*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*i/n.clientHeight,this.object.matrix),this._panUp(2*t*i/n.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/n.clientWidth,this.object.matrix),this._panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/n.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,t){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const n=this.domElement.getBoundingClientRect(),s=e-n.left,i=t-n.top,o=n.width,c=n.height;this._mouse.x=s/o*2-1,this._mouse.y=-(i/c)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(Z*this._rotateDelta.x/t.clientHeight),this._rotateUp(Z*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let t=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(Z*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),t=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-Z*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),t=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(Z*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),t=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-Z*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),t=!0;break}t&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),n=.5*(e.pageX+t.x),s=.5*(e.pageY+t.y);this._rotateStart.set(n,s)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),n=.5*(e.pageX+t.x),s=.5*(e.pageY+t.y);this._panStart.set(n,s)}}_handleTouchStartDolly(e){const t=this._getSecondPointerPosition(e),n=e.pageX-t.x,s=e.pageY-t.y,i=Math.sqrt(n*n+s*s);this._dollyStart.set(0,i)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),s=.5*(e.pageX+n.x),i=.5*(e.pageY+n.y);this._rotateEnd.set(s,i)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(Z*this._rotateDelta.x/t.clientHeight),this._rotateUp(Z*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),n=.5*(e.pageX+t.x),s=.5*(e.pageY+t.y);this._panEnd.set(n,s)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const t=this._getSecondPointerPosition(e),n=e.pageX-t.x,s=e.pageY-t.y,i=Math.sqrt(n*n+s*s);this._dollyEnd.set(0,i),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const o=(e.pageX+t.x)*.5,c=(e.pageY+t.y)*.5;this._updateZoomParameters(o,c)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId){this._pointers.splice(t,1);return}}_isTrackingPointer(e){for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return!0;return!1}_trackPointer(e){let t=this._pointerPositions[e.pointerId];t===void 0&&(t=new H,this._pointerPositions[e.pointerId]=t),t.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const t=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[t]}_customWheelEvent(e){const t=e.deltaMode,n={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(t){case 1:n.deltaY*=16;break;case 2:n.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(n.deltaY*=10),n}}function Mi(r){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(r.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(r)&&(this._addPointer(r),r.pointerType==="touch"?this._onTouchStart(r):this._onMouseDown(r)))}function Ci(r){this.enabled!==!1&&(r.pointerType==="touch"?this._onTouchMove(r):this._onMouseMove(r))}function Li(r){switch(this._removePointer(r),this._pointers.length){case 0:this.domElement.releasePointerCapture(r.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(ks),this.state=U.NONE;break;case 1:const e=this._pointers[0],t=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:t.x,pageY:t.y});break}}function ki(r){let e;switch(r.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case we.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(r),this.state=U.DOLLY;break;case we.ROTATE:if(r.ctrlKey||r.metaKey||r.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(r),this.state=U.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(r),this.state=U.ROTATE}break;case we.PAN:if(r.ctrlKey||r.metaKey||r.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(r),this.state=U.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(r),this.state=U.PAN}break;default:this.state=U.NONE}this.state!==U.NONE&&this.dispatchEvent(vt)}function Oi(r){switch(this.state){case U.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(r);break;case U.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(r);break;case U.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(r);break}}function Di(r){this.enabled===!1||this.enableZoom===!1||this.state!==U.NONE||(r.preventDefault(),this.dispatchEvent(vt),this._handleMouseWheel(this._customWheelEvent(r)),this.dispatchEvent(ks))}function Ni(r){this.enabled!==!1&&this._handleKeyDown(r)}function Ii(r){switch(this._trackPointer(r),this._pointers.length){case 1:switch(this.touches.ONE){case Te.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(r),this.state=U.TOUCH_ROTATE;break;case Te.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(r),this.state=U.TOUCH_PAN;break;default:this.state=U.NONE}break;case 2:switch(this.touches.TWO){case Te.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(r),this.state=U.TOUCH_DOLLY_PAN;break;case Te.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(r),this.state=U.TOUCH_DOLLY_ROTATE;break;default:this.state=U.NONE}break;default:this.state=U.NONE}this.state!==U.NONE&&this.dispatchEvent(vt)}function Fi(r){switch(this._trackPointer(r),this.state){case U.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(r),this.update();break;case U.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(r),this.update();break;case U.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(r),this.update();break;case U.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(r),this.update();break;default:this.state=U.NONE}}function Ui(r){this.enabled!==!1&&r.preventDefault()}function Vi(r){r.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function ji(r){r.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function $t(r,e){if(e===Bs)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),r;if(e===ft||e===hs){let t=r.getIndex();if(t===null){const o=[],c=r.getAttribute("position");if(c!==void 0){for(let a=0;a<c.count;a++)o.push(a);r.setIndex(o),t=r.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),r}const n=t.count-2,s=[];if(e===ft)for(let o=1;o<=n;o++)s.push(t.getX(0)),s.push(t.getX(o)),s.push(t.getX(o+1));else for(let o=0;o<n;o++)o%2===0?(s.push(t.getX(o)),s.push(t.getX(o+1)),s.push(t.getX(o+2))):(s.push(t.getX(o+2)),s.push(t.getX(o+1)),s.push(t.getX(o)));s.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const i=r.clone();return i.setIndex(s),i.clearGroups(),i}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),r}class Bi extends fs{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Xi(t)}),this.register(function(t){return new qi(t)}),this.register(function(t){return new so(t)}),this.register(function(t){return new no(t)}),this.register(function(t){return new io(t)}),this.register(function(t){return new Wi(t)}),this.register(function(t){return new Qi(t)}),this.register(function(t){return new Zi(t)}),this.register(function(t){return new $i(t)}),this.register(function(t){return new Ki(t)}),this.register(function(t){return new Ji(t)}),this.register(function(t){return new Yi(t)}),this.register(function(t){return new to(t)}),this.register(function(t){return new eo(t)}),this.register(function(t){return new Gi(t)}),this.register(function(t){return new oo(t)}),this.register(function(t){return new ro(t)})}load(e,t,n,s){const i=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const l=De.extractUrlBase(e);o=De.resolveURL(l,this.path)}else o=De.extractUrlBase(e);this.manager.itemStart(e);const c=function(l){s?s(l):console.error(l),i.manager.itemError(e),i.manager.itemEnd(e)},a=new Ye(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{i.parse(l,o,function(h){t(h),i.manager.itemEnd(e)},c)}catch(h){c(h)}},n,c)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,s){let i;const o={},c={},a=new TextDecoder;if(typeof e=="string")i=JSON.parse(e);else if(e instanceof ArrayBuffer)if(a.decode(new Uint8Array(e,0,4))===Os){try{o[C.KHR_BINARY_GLTF]=new ao(e)}catch(u){s&&s(u);return}i=JSON.parse(o[C.KHR_BINARY_GLTF].content)}else i=JSON.parse(a.decode(e));else i=e;if(i.asset===void 0||i.asset.version[0]<2){s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new Eo(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let h=0;h<this.pluginCallbacks.length;h++){const u=this.pluginCallbacks[h](l);u.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),c[u.name]=u,o[u.name]=!0}if(i.extensionsUsed)for(let h=0;h<i.extensionsUsed.length;++h){const u=i.extensionsUsed[h],f=i.extensionsRequired||[];switch(u){case C.KHR_MATERIALS_UNLIT:o[u]=new zi;break;case C.KHR_DRACO_MESH_COMPRESSION:o[u]=new co(i,this.dracoLoader);break;case C.KHR_TEXTURE_TRANSFORM:o[u]=new lo;break;case C.KHR_MESH_QUANTIZATION:o[u]=new uo;break;default:f.indexOf(u)>=0&&c[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(c),l.parse(n,s)}parseAsync(e,t){const n=this;return new Promise(function(s,i){n.parse(e,t,s,i)})}}function Hi(){let r={};return{get:function(e){return r[e]},add:function(e,t){r[e]=t},remove:function(e){delete r[e]},removeAll:function(){r={}}}}const C={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Gi{constructor(e){this.parser=e,this.name=C.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,s=t.length;n<s;n++){const i=t[n];i.extensions&&i.extensions[this.name]&&i.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let s=t.cache.get(n);if(s)return s;const i=t.json,a=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e];let l;const h=new ee(16777215);a.color!==void 0&&h.setRGB(a.color[0],a.color[1],a.color[2],re);const u=a.range!==void 0?a.range:0;switch(a.type){case"directional":l=new zs(h),l.target.position.set(0,0,-1),l.add(l.target);break;case"point":l=new Gs(h),l.distance=u;break;case"spot":l=new Hs(h),l.distance=u,a.spot=a.spot||{},a.spot.innerConeAngle=a.spot.innerConeAngle!==void 0?a.spot.innerConeAngle:0,a.spot.outerConeAngle=a.spot.outerConeAngle!==void 0?a.spot.outerConeAngle:Math.PI/4,l.angle=a.spot.outerConeAngle,l.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,l.target.position.set(0,0,-1),l.add(l.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+a.type)}return l.position.set(0,0,0),le(l,a),a.intensity!==void 0&&(l.intensity=a.intensity),l.name=t.createUniqueName(a.name||"light_"+e),s=Promise.resolve(l),t.cache.add(n,s),s}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,i=n.json.nodes[e],c=(i.extensions&&i.extensions[this.name]||{}).light;return c===void 0?null:this._loadLight(c).then(function(a){return n._getNodeRef(t.cache,c,a)})}}class zi{constructor(){this.name=C.KHR_MATERIALS_UNLIT}getMaterialType(){return be}extendParams(e,t,n){const s=[];e.color=new ee(1,1,1),e.opacity=1;const i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const o=i.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],re),e.opacity=o[3]}i.baseColorTexture!==void 0&&s.push(n.assignTexture(e,"map",i.baseColorTexture,pe))}return Promise.all(s)}}class Ki{constructor(e){this.parser=e,this.name=C.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=s.extensions[this.name].emissiveStrength;return i!==void 0&&(t.emissiveIntensity=i),Promise.resolve()}}class Xi{constructor(e){this.parser=e,this.name=C.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:ae}extendMaterialParams(e,t){const n=this.parser,s=n.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],o=s.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&i.push(n.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(i.push(n.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const c=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new H(c,c)}return Promise.all(i)}}class qi{constructor(e){this.parser=e,this.name=C.KHR_MATERIALS_DISPERSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:ae}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=s.extensions[this.name];return t.dispersion=i.dispersion!==void 0?i.dispersion:0,Promise.resolve()}}class Yi{constructor(e){this.parser=e,this.name=C.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:ae}extendMaterialParams(e,t){const n=this.parser,s=n.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],o=s.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&i.push(n.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&i.push(n.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(i)}}class Wi{constructor(e){this.parser=e,this.name=C.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:ae}extendMaterialParams(e,t){const n=this.parser,s=n.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[];t.sheenColor=new ee(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=s.extensions[this.name];if(o.sheenColorFactor!==void 0){const c=o.sheenColorFactor;t.sheenColor.setRGB(c[0],c[1],c[2],re)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&i.push(n.assignTexture(t,"sheenColorMap",o.sheenColorTexture,pe)),o.sheenRoughnessTexture!==void 0&&i.push(n.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(i)}}class Qi{constructor(e){this.parser=e,this.name=C.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:ae}extendMaterialParams(e,t){const n=this.parser,s=n.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],o=s.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&i.push(n.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(i)}}class Zi{constructor(e){this.parser=e,this.name=C.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:ae}extendMaterialParams(e,t){const n=this.parser,s=n.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],o=s.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&i.push(n.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const c=o.attenuationColor||[1,1,1];return t.attenuationColor=new ee().setRGB(c[0],c[1],c[2],re),Promise.all(i)}}class $i{constructor(e){this.parser=e,this.name=C.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:ae}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=s.extensions[this.name];return t.ior=i.ior!==void 0?i.ior:1.5,Promise.resolve()}}class Ji{constructor(e){this.parser=e,this.name=C.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:ae}extendMaterialParams(e,t){const n=this.parser,s=n.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],o=s.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&i.push(n.assignTexture(t,"specularIntensityMap",o.specularTexture));const c=o.specularColorFactor||[1,1,1];return t.specularColor=new ee().setRGB(c[0],c[1],c[2],re),o.specularColorTexture!==void 0&&i.push(n.assignTexture(t,"specularColorMap",o.specularColorTexture,pe)),Promise.all(i)}}class eo{constructor(e){this.parser=e,this.name=C.EXT_MATERIALS_BUMP}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:ae}extendMaterialParams(e,t){const n=this.parser,s=n.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],o=s.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&i.push(n.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(i)}}class to{constructor(e){this.parser=e,this.name=C.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:ae}extendMaterialParams(e,t){const n=this.parser,s=n.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],o=s.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&i.push(n.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(i)}}class so{constructor(e){this.parser=e,this.name=C.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,s=n.textures[e];if(!s.extensions||!s.extensions[this.name])return null;const i=s.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,o)}}class no{constructor(e){this.parser=e,this.name=C.EXT_TEXTURE_WEBP}loadTexture(e){const t=this.name,n=this.parser,s=n.json,i=s.textures[e];if(!i.extensions||!i.extensions[t])return null;const o=i.extensions[t],c=s.images[o.source];let a=n.textureLoader;if(c.uri){const l=n.options.manager.getHandler(c.uri);l!==null&&(a=l)}return n.loadTextureImage(e,o.source,a)}}class io{constructor(e){this.parser=e,this.name=C.EXT_TEXTURE_AVIF}loadTexture(e){const t=this.name,n=this.parser,s=n.json,i=s.textures[e];if(!i.extensions||!i.extensions[t])return null;const o=i.extensions[t],c=s.images[o.source];let a=n.textureLoader;if(c.uri){const l=n.options.manager.getHandler(c.uri);l!==null&&(a=l)}return n.loadTextureImage(e,o.source,a)}}class oo{constructor(e){this.name=C.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const s=n.extensions[this.name],i=this.parser.getDependency("buffer",s.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then(function(c){const a=s.byteOffset||0,l=s.byteLength||0,h=s.count,u=s.byteStride,f=new Uint8Array(c,a,l);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(h,u,f,s.mode,s.filter).then(function(d){return d.buffer}):o.ready.then(function(){const d=new ArrayBuffer(h*u);return o.decodeGltfBuffer(new Uint8Array(d),h,u,f,s.mode,s.filter),d})})}else return null}}class ro{constructor(e){this.name=C.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const s=t.meshes[n.mesh];for(const l of s.primitives)if(l.mode!==J.TRIANGLES&&l.mode!==J.TRIANGLE_STRIP&&l.mode!==J.TRIANGLE_FAN&&l.mode!==void 0)return null;const o=n.extensions[this.name].attributes,c=[],a={};for(const l in o)c.push(this.parser.getDependency("accessor",o[l]).then(h=>(a[l]=h,a[l])));return c.length<1?null:(c.push(this.parser.createNodeMesh(e)),Promise.all(c).then(l=>{const h=l.pop(),u=h.isGroup?h.children:[h],f=l[0].count,d=[];for(const y of u){const b=new We,_=new G,w=new qe,E=new G(1,1,1),R=new Ks(y.geometry,y.material,f);for(let A=0;A<f;A++)a.TRANSLATION&&_.fromBufferAttribute(a.TRANSLATION,A),a.ROTATION&&w.fromBufferAttribute(a.ROTATION,A),a.SCALE&&E.fromBufferAttribute(a.SCALE,A),R.setMatrixAt(A,b.compose(_,w,E));for(const A in a)if(A==="_COLOR_0"){const j=a[A];R.instanceColor=new Xs(j.array,j.itemSize,j.normalized)}else A!=="TRANSLATION"&&A!=="ROTATION"&&A!=="SCALE"&&y.geometry.setAttribute(A,a[A]);ds.prototype.copy.call(R,y),this.parser.assignFinalMaterial(R),d.push(R)}return h.isGroup?(h.clear(),h.add(...d),h):d[0]}))}}const Os="glTF",Oe=12,Jt={JSON:1313821514,BIN:5130562};class ao{constructor(e){this.name=C.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Oe),n=new TextDecoder;if(this.header={magic:n.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==Os)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const s=this.header.length-Oe,i=new DataView(e,Oe);let o=0;for(;o<s;){const c=i.getUint32(o,!0);o+=4;const a=i.getUint32(o,!0);if(o+=4,a===Jt.JSON){const l=new Uint8Array(e,Oe+o,c);this.content=n.decode(l)}else if(a===Jt.BIN){const l=Oe+o;this.body=e.slice(l,l+c)}o+=c}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class co{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=C.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,s=this.dracoLoader,i=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,c={},a={},l={};for(const h in o){const u=bt[h]||h.toLowerCase();c[u]=o[h]}for(const h in e.attributes){const u=bt[h]||h.toLowerCase();if(o[h]!==void 0){const f=n.accessors[e.attributes[h]],d=xe[f.componentType];l[u]=d.name,a[u]=f.normalized===!0}}return t.getDependency("bufferView",i).then(function(h){return new Promise(function(u,f){s.decodeDracoFile(h,function(d){for(const y in d.attributes){const b=d.attributes[y],_=a[y];_!==void 0&&(b.normalized=_)}u(d)},c,l,re,f)})})}}class lo{constructor(){this.name=C.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class uo{constructor(){this.name=C.KHR_MESH_QUANTIZATION}}class Ds extends _n{constructor(e,t,n,s){super(e,t,n,s)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,s=this.valueSize,i=e*s*3+s;for(let o=0;o!==s;o++)t[o]=n[i+o];return t}interpolate_(e,t,n,s){const i=this.resultBuffer,o=this.sampleValues,c=this.valueSize,a=c*2,l=c*3,h=s-t,u=(n-t)/h,f=u*u,d=f*u,y=e*l,b=y-l,_=-2*d+3*f,w=d-f,E=1-_,R=w-f+u;for(let A=0;A!==c;A++){const j=o[b+A+c],N=o[b+A+a]*h,k=o[y+A+c],W=o[y+A]*h;i[A]=E*j+R*N+_*k+w*W}return i}}const ho=new qe;class fo extends Ds{interpolate_(e,t,n,s){const i=super.interpolate_(e,t,n,s);return ho.fromArray(i).normalize().toArray(i),i}}const J={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},xe={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},es={9728:ms,9729:dt,9984:Js,9985:$s,9986:Zs,9987:ps},ts={33071:tn,33648:en,10497:pt},at={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},bt={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},fe={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},po={CUBICSPLINE:void 0,LINEAR:Ts,STEP:gn},ct={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function mo(r){return r.DefaultMaterial===void 0&&(r.DefaultMaterial=new gs({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:yn})),r.DefaultMaterial}function me(r,e,t){for(const n in t.extensions)r[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function le(r,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(r.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function go(r,e,t){let n=!1,s=!1,i=!1;for(let l=0,h=e.length;l<h;l++){const u=e[l];if(u.POSITION!==void 0&&(n=!0),u.NORMAL!==void 0&&(s=!0),u.COLOR_0!==void 0&&(i=!0),n&&s&&i)break}if(!n&&!s&&!i)return Promise.resolve(r);const o=[],c=[],a=[];for(let l=0,h=e.length;l<h;l++){const u=e[l];if(n){const f=u.POSITION!==void 0?t.getDependency("accessor",u.POSITION):r.attributes.position;o.push(f)}if(s){const f=u.NORMAL!==void 0?t.getDependency("accessor",u.NORMAL):r.attributes.normal;c.push(f)}if(i){const f=u.COLOR_0!==void 0?t.getDependency("accessor",u.COLOR_0):r.attributes.color;a.push(f)}}return Promise.all([Promise.all(o),Promise.all(c),Promise.all(a)]).then(function(l){const h=l[0],u=l[1],f=l[2];return n&&(r.morphAttributes.position=h),s&&(r.morphAttributes.normal=u),i&&(r.morphAttributes.color=f),r.morphTargetsRelative=!0,r})}function yo(r,e){if(r.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)r.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(r.morphTargetInfluences.length===t.length){r.morphTargetDictionary={};for(let n=0,s=t.length;n<s;n++)r.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function _o(r){let e;const t=r.extensions&&r.extensions[C.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+lt(t.attributes):e=r.indices+":"+lt(r.attributes)+":"+r.mode,r.targets!==void 0)for(let n=0,s=r.targets.length;n<s;n++)e+=":"+lt(r.targets[n]);return e}function lt(r){let e="";const t=Object.keys(r).sort();for(let n=0,s=t.length;n<s;n++)e+=t[n]+":"+r[t[n]]+";";return e}function Et(r){switch(r){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function To(r){return r.search(/\.jpe?g($|\?)/i)>0||r.search(/^data\:image\/jpeg/)===0?"image/jpeg":r.search(/\.webp($|\?)/i)>0||r.search(/^data\:image\/webp/)===0?"image/webp":r.search(/\.ktx2($|\?)/i)>0||r.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const bo=new We;class Eo{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Hi,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,s=-1,i=!1,o=-1;if(typeof navigator<"u"){const c=navigator.userAgent;n=/^((?!chrome|android).)*safari/i.test(c)===!0;const a=c.match(/Version\/(\d+)/);s=n&&a?parseInt(a[1],10):-1,i=c.indexOf("Firefox")>-1,o=i?c.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||n&&s<17||i&&o<98?this.textureLoader=new qs(this.options.manager):this.textureLoader=new Ys(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ye(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,s=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(o){const c={scene:o[0][s.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:s.asset,parser:n,userData:{}};return me(i,c,s),le(c,s),Promise.all(n._invokeAll(function(a){return a.afterRoot&&a.afterRoot(c)})).then(function(){for(const a of c.scenes)a.updateMatrixWorld();e(c)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let s=0,i=t.length;s<i;s++){const o=t[s].joints;for(let c=0,a=o.length;c<a;c++)e[o[c]].isBone=!0}for(let s=0,i=e.length;s<i;s++){const o=e[s];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(n[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const s=n.clone(),i=(o,c)=>{const a=this.associations.get(o);a!=null&&this.associations.set(c,a);for(const[l,h]of o.children.entries())i(h,c.children[l])};return i(n,s),s.name+="_instance_"+e.uses[t]++,s}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const s=e(t[n]);if(s)return s}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let s=0;s<t.length;s++){const i=e(t[s]);i&&n.push(i)}return n}getDependency(e,t){const n=e+":"+t;let s=this.cache.get(n);if(!s){switch(e){case"scene":s=this.loadScene(t);break;case"node":s=this._invokeOne(function(i){return i.loadNode&&i.loadNode(t)});break;case"mesh":s=this._invokeOne(function(i){return i.loadMesh&&i.loadMesh(t)});break;case"accessor":s=this.loadAccessor(t);break;case"bufferView":s=this._invokeOne(function(i){return i.loadBufferView&&i.loadBufferView(t)});break;case"buffer":s=this.loadBuffer(t);break;case"material":s=this._invokeOne(function(i){return i.loadMaterial&&i.loadMaterial(t)});break;case"texture":s=this._invokeOne(function(i){return i.loadTexture&&i.loadTexture(t)});break;case"skin":s=this.loadSkin(t);break;case"animation":s=this._invokeOne(function(i){return i.loadAnimation&&i.loadAnimation(t)});break;case"camera":s=this.loadCamera(t);break;default:if(s=this._invokeOne(function(i){return i!=this&&i.getDependency&&i.getDependency(e,t)}),!s)throw new Error("Unknown type: "+e);break}this.cache.add(n,s)}return s}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,s=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(s.map(function(i,o){return n.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[C.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(i,o){n.load(De.resolveURL(t.uri,s.path),i,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const s=t.byteLength||0,i=t.byteOffset||0;return n.slice(i,i+s)})}loadAccessor(e){const t=this,n=this.json,s=this.json.accessors[e];if(s.bufferView===void 0&&s.sparse===void 0){const o=at[s.type],c=xe[s.componentType],a=s.normalized===!0,l=new c(s.count*o);return Promise.resolve(new Ne(l,o,a))}const i=[];return s.bufferView!==void 0?i.push(this.getDependency("bufferView",s.bufferView)):i.push(null),s.sparse!==void 0&&(i.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(i).then(function(o){const c=o[0],a=at[s.type],l=xe[s.componentType],h=l.BYTES_PER_ELEMENT,u=h*a,f=s.byteOffset||0,d=s.bufferView!==void 0?n.bufferViews[s.bufferView].byteStride:void 0,y=s.normalized===!0;let b,_;if(d&&d!==u){const w=Math.floor(f/d),E="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+w+":"+s.count;let R=t.cache.get(E);R||(b=new l(c,w*d,s.count*d/h),R=new Ws(b,d/h),t.cache.add(E,R)),_=new Qs(R,a,f%d/h,y)}else c===null?b=new l(s.count*a):b=new l(c,f,s.count*a),_=new Ne(b,a,y);if(s.sparse!==void 0){const w=at.SCALAR,E=xe[s.sparse.indices.componentType],R=s.sparse.indices.byteOffset||0,A=s.sparse.values.byteOffset||0,j=new E(o[1],R,s.sparse.count*w),N=new l(o[2],A,s.sparse.count*a);c!==null&&(_=new Ne(_.array.slice(),_.itemSize,_.normalized)),_.normalized=!1;for(let k=0,W=j.length;k<W;k++){const Y=j[k];if(_.setX(Y,N[k*a]),a>=2&&_.setY(Y,N[k*a+1]),a>=3&&_.setZ(Y,N[k*a+2]),a>=4&&_.setW(Y,N[k*a+3]),a>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}_.normalized=y}return _})}loadTexture(e){const t=this.json,n=this.options,i=t.textures[e].source,o=t.images[i];let c=this.textureLoader;if(o.uri){const a=n.manager.getHandler(o.uri);a!==null&&(c=a)}return this.loadTextureImage(e,i,c)}loadTextureImage(e,t,n){const s=this,i=this.json,o=i.textures[e],c=i.images[t],a=(c.uri||c.bufferView)+":"+o.sampler;if(this.textureCache[a])return this.textureCache[a];const l=this.loadImageSource(t,n).then(function(h){h.flipY=!1,h.name=o.name||c.name||"",h.name===""&&typeof c.uri=="string"&&c.uri.startsWith("data:image/")===!1&&(h.name=c.uri);const f=(i.samplers||{})[o.sampler]||{};return h.magFilter=es[f.magFilter]||dt,h.minFilter=es[f.minFilter]||ps,h.wrapS=ts[f.wrapS]||pt,h.wrapT=ts[f.wrapT]||pt,h.generateMipmaps=!h.isCompressedTexture&&h.minFilter!==ms&&h.minFilter!==dt,s.associations.set(h,{textures:e}),h}).catch(function(){return null});return this.textureCache[a]=l,l}loadImageSource(e,t){const n=this,s=this.json,i=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(u=>u.clone());const o=s.images[e],c=self.URL||self.webkitURL;let a=o.uri||"",l=!1;if(o.bufferView!==void 0)a=n.getDependency("bufferView",o.bufferView).then(function(u){l=!0;const f=new Blob([u],{type:o.mimeType});return a=c.createObjectURL(f),a});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(a).then(function(u){return new Promise(function(f,d){let y=f;t.isImageBitmapLoader===!0&&(y=function(b){const _=new Mt(b);_.needsUpdate=!0,f(_)}),t.load(De.resolveURL(u,i.path),y,void 0,d)})}).then(function(u){return l===!0&&c.revokeObjectURL(a),le(u,o),u.userData.mimeType=o.mimeType||To(o.uri),u}).catch(function(u){throw console.error("THREE.GLTFLoader: Couldn't load texture",a),u});return this.sourceCache[e]=h,h}assignTexture(e,t,n,s){const i=this;return this.getDependency("texture",n.index).then(function(o){if(!o)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(o=o.clone(),o.channel=n.texCoord),i.extensions[C.KHR_TEXTURE_TRANSFORM]){const c=n.extensions!==void 0?n.extensions[C.KHR_TEXTURE_TRANSFORM]:void 0;if(c){const a=i.associations.get(o);o=i.extensions[C.KHR_TEXTURE_TRANSFORM].extendTexture(o,c),i.associations.set(o,a)}}return s!==void 0&&(o.colorSpace=s),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const s=t.attributes.tangent===void 0,i=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const c="PointsMaterial:"+n.uuid;let a=this.cache.get(c);a||(a=new sn,et.prototype.copy.call(a,n),a.color.copy(n.color),a.map=n.map,a.sizeAttenuation=!1,this.cache.add(c,a)),n=a}else if(e.isLine){const c="LineBasicMaterial:"+n.uuid;let a=this.cache.get(c);a||(a=new nn,et.prototype.copy.call(a,n),a.color.copy(n.color),a.map=n.map,this.cache.add(c,a)),n=a}if(s||i||o){let c="ClonedMaterial:"+n.uuid+":";s&&(c+="derivative-tangents:"),i&&(c+="vertex-colors:"),o&&(c+="flat-shading:");let a=this.cache.get(c);a||(a=n.clone(),i&&(a.vertexColors=!0),o&&(a.flatShading=!0),s&&(a.normalScale&&(a.normalScale.y*=-1),a.clearcoatNormalScale&&(a.clearcoatNormalScale.y*=-1)),this.cache.add(c,a),this.associations.set(a,this.associations.get(n))),n=a}e.material=n}getMaterialType(){return gs}loadMaterial(e){const t=this,n=this.json,s=this.extensions,i=n.materials[e];let o;const c={},a=i.extensions||{},l=[];if(a[C.KHR_MATERIALS_UNLIT]){const u=s[C.KHR_MATERIALS_UNLIT];o=u.getMaterialType(),l.push(u.extendParams(c,i,t))}else{const u=i.pbrMetallicRoughness||{};if(c.color=new ee(1,1,1),c.opacity=1,Array.isArray(u.baseColorFactor)){const f=u.baseColorFactor;c.color.setRGB(f[0],f[1],f[2],re),c.opacity=f[3]}u.baseColorTexture!==void 0&&l.push(t.assignTexture(c,"map",u.baseColorTexture,pe)),c.metalness=u.metallicFactor!==void 0?u.metallicFactor:1,c.roughness=u.roughnessFactor!==void 0?u.roughnessFactor:1,u.metallicRoughnessTexture!==void 0&&(l.push(t.assignTexture(c,"metalnessMap",u.metallicRoughnessTexture)),l.push(t.assignTexture(c,"roughnessMap",u.metallicRoughnessTexture))),o=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),l.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,c)})))}i.doubleSided===!0&&(c.side=on);const h=i.alphaMode||ct.OPAQUE;if(h===ct.BLEND?(c.transparent=!0,c.depthWrite=!1):(c.transparent=!1,h===ct.MASK&&(c.alphaTest=i.alphaCutoff!==void 0?i.alphaCutoff:.5)),i.normalTexture!==void 0&&o!==be&&(l.push(t.assignTexture(c,"normalMap",i.normalTexture)),c.normalScale=new H(1,1),i.normalTexture.scale!==void 0)){const u=i.normalTexture.scale;c.normalScale.set(u,u)}if(i.occlusionTexture!==void 0&&o!==be&&(l.push(t.assignTexture(c,"aoMap",i.occlusionTexture)),i.occlusionTexture.strength!==void 0&&(c.aoMapIntensity=i.occlusionTexture.strength)),i.emissiveFactor!==void 0&&o!==be){const u=i.emissiveFactor;c.emissive=new ee().setRGB(u[0],u[1],u[2],re)}return i.emissiveTexture!==void 0&&o!==be&&l.push(t.assignTexture(c,"emissiveMap",i.emissiveTexture,pe)),Promise.all(l).then(function(){const u=new o(c);return i.name&&(u.name=i.name),le(u,i),t.associations.set(u,{materials:e}),i.extensions&&me(s,u,i),u})}createUniqueName(e){const t=rn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,s=this.primitiveCache;function i(c){return n[C.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(c,t).then(function(a){return ss(a,c,t)})}const o=[];for(let c=0,a=e.length;c<a;c++){const l=e[c],h=_o(l),u=s[h];if(u)o.push(u.promise);else{let f;l.extensions&&l.extensions[C.KHR_DRACO_MESH_COMPRESSION]?f=i(l):f=ss(new xt,l,t),s[h]={primitive:l,promise:f},o.push(f)}}return Promise.all(o)}loadMesh(e){const t=this,n=this.json,s=this.extensions,i=n.meshes[e],o=i.primitives,c=[];for(let a=0,l=o.length;a<l;a++){const h=o[a].material===void 0?mo(this.cache):this.getDependency("material",o[a].material);c.push(h)}return c.push(t.loadGeometries(o)),Promise.all(c).then(function(a){const l=a.slice(0,a.length-1),h=a[a.length-1],u=[];for(let d=0,y=h.length;d<y;d++){const b=h[d],_=o[d];let w;const E=l[d];if(_.mode===J.TRIANGLES||_.mode===J.TRIANGLE_STRIP||_.mode===J.TRIANGLE_FAN||_.mode===void 0)w=i.isSkinnedMesh===!0?new an(b,E):new ys(b,E),w.isSkinnedMesh===!0&&w.normalizeSkinWeights(),_.mode===J.TRIANGLE_STRIP?w.geometry=$t(w.geometry,hs):_.mode===J.TRIANGLE_FAN&&(w.geometry=$t(w.geometry,ft));else if(_.mode===J.LINES)w=new cn(b,E);else if(_.mode===J.LINE_STRIP)w=new ln(b,E);else if(_.mode===J.LINE_LOOP)w=new un(b,E);else if(_.mode===J.POINTS)w=new hn(b,E);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(w.geometry.morphAttributes).length>0&&yo(w,i),w.name=t.createUniqueName(i.name||"mesh_"+e),le(w,i),_.extensions&&me(s,w,_),t.assignFinalMaterial(w),u.push(w)}for(let d=0,y=u.length;d<y;d++)t.associations.set(u[d],{meshes:e,primitives:d});if(u.length===1)return i.extensions&&me(s,u[0],i),u[0];const f=new tt;i.extensions&&me(s,f,i),t.associations.set(f,{meshes:e});for(let d=0,y=u.length;d<y;d++)f.add(u[d]);return f})}loadCamera(e){let t;const n=this.json.cameras[e],s=n[n.type];if(!s){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new fn(us.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):n.type==="orthographic"&&(t=new _s(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),le(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n=[];for(let s=0,i=t.joints.length;s<i;s++)n.push(this._loadNodeShallow(t.joints[s]));return t.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(s){const i=s.pop(),o=s,c=[],a=[];for(let l=0,h=o.length;l<h;l++){const u=o[l];if(u){c.push(u);const f=new We;i!==null&&f.fromArray(i.array,l*16),a.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[l])}return new dn(c,a)})}loadAnimation(e){const t=this.json,n=this,s=t.animations[e],i=s.name?s.name:"animation_"+e,o=[],c=[],a=[],l=[],h=[];for(let u=0,f=s.channels.length;u<f;u++){const d=s.channels[u],y=s.samplers[d.sampler],b=d.target,_=b.node,w=s.parameters!==void 0?s.parameters[y.input]:y.input,E=s.parameters!==void 0?s.parameters[y.output]:y.output;b.node!==void 0&&(o.push(this.getDependency("node",_)),c.push(this.getDependency("accessor",w)),a.push(this.getDependency("accessor",E)),l.push(y),h.push(b))}return Promise.all([Promise.all(o),Promise.all(c),Promise.all(a),Promise.all(l),Promise.all(h)]).then(function(u){const f=u[0],d=u[1],y=u[2],b=u[3],_=u[4],w=[];for(let E=0,R=f.length;E<R;E++){const A=f[E],j=d[E],N=y[E],k=b[E],W=_[E];if(A===void 0)continue;A.updateMatrix&&A.updateMatrix();const Y=n._createAnimationTracks(A,j,N,k,W);if(Y)for(let ne=0;ne<Y.length;ne++)w.push(Y[ne])}return new pn(i,void 0,w)})}createNodeMesh(e){const t=this.json,n=this,s=t.nodes[e];return s.mesh===void 0?null:n.getDependency("mesh",s.mesh).then(function(i){const o=n._getNodeRef(n.meshCache,s.mesh,i);return s.weights!==void 0&&o.traverse(function(c){if(c.isMesh)for(let a=0,l=s.weights.length;a<l;a++)c.morphTargetInfluences[a]=s.weights[a]}),o})}loadNode(e){const t=this.json,n=this,s=t.nodes[e],i=n._loadNodeShallow(e),o=[],c=s.children||[];for(let l=0,h=c.length;l<h;l++)o.push(n.getDependency("node",c[l]));const a=s.skin===void 0?Promise.resolve(null):n.getDependency("skin",s.skin);return Promise.all([i,Promise.all(o),a]).then(function(l){const h=l[0],u=l[1],f=l[2];f!==null&&h.traverse(function(d){d.isSkinnedMesh&&d.bind(f,bo)});for(let d=0,y=u.length;d<y;d++)h.add(u[d]);return h})}_loadNodeShallow(e){const t=this.json,n=this.extensions,s=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const i=t.nodes[e],o=i.name?s.createUniqueName(i.name):"",c=[],a=s._invokeOne(function(l){return l.createNodeMesh&&l.createNodeMesh(e)});return a&&c.push(a),i.camera!==void 0&&c.push(s.getDependency("camera",i.camera).then(function(l){return s._getNodeRef(s.cameraCache,i.camera,l)})),s._invokeAll(function(l){return l.createNodeAttachment&&l.createNodeAttachment(e)}).forEach(function(l){c.push(l)}),this.nodeCache[e]=Promise.all(c).then(function(l){let h;if(i.isBone===!0?h=new mn:l.length>1?h=new tt:l.length===1?h=l[0]:h=new ds,h!==l[0])for(let u=0,f=l.length;u<f;u++)h.add(l[u]);if(i.name&&(h.userData.name=i.name,h.name=o),le(h,i),i.extensions&&me(n,h,i),i.matrix!==void 0){const u=new We;u.fromArray(i.matrix),h.applyMatrix4(u)}else i.translation!==void 0&&h.position.fromArray(i.translation),i.rotation!==void 0&&h.quaternion.fromArray(i.rotation),i.scale!==void 0&&h.scale.fromArray(i.scale);if(!s.associations.has(h))s.associations.set(h,{});else if(i.mesh!==void 0&&s.meshCache.refs[i.mesh]>1){const u=s.associations.get(h);s.associations.set(h,{...u})}return s.associations.get(h).nodes=e,h}),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],s=this,i=new tt;n.name&&(i.name=s.createUniqueName(n.name)),le(i,n),n.extensions&&me(t,i,n);const o=n.nodes||[],c=[];for(let a=0,l=o.length;a<l;a++)c.push(s.getDependency("node",o[a]));return Promise.all(c).then(function(a){for(let h=0,u=a.length;h<u;h++)i.add(a[h]);const l=h=>{const u=new Map;for(const[f,d]of s.associations)(f instanceof et||f instanceof Mt)&&u.set(f,d);return h.traverse(f=>{const d=s.associations.get(f);d!=null&&u.set(f,d)}),u};return s.associations=l(i),i})}_createAnimationTracks(e,t,n,s,i){const o=[],c=e.name?e.name:e.uuid,a=[];fe[i.path]===fe.weights?e.traverse(function(f){f.morphTargetInfluences&&a.push(f.name?f.name:f.uuid)}):a.push(c);let l;switch(fe[i.path]){case fe.weights:l=Lt;break;case fe.rotation:l=kt;break;case fe.translation:case fe.scale:l=Ct;break;default:switch(n.itemSize){case 1:l=Lt;break;case 2:case 3:default:l=Ct;break}break}const h=s.interpolation!==void 0?po[s.interpolation]:Ts,u=this._getArrayFromAccessor(n);for(let f=0,d=a.length;f<d;f++){const y=new l(a[f]+"."+fe[i.path],t.array,u,h);s.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(y),o.push(y)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const n=Et(t.constructor),s=new Float32Array(t.length);for(let i=0,o=t.length;i<o;i++)s[i]=t[i]*n;t=s}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(n){const s=this instanceof kt?fo:Ds;return new s(this.times,this.values,this.getValueSize()/3,n)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function wo(r,e,t){const n=e.attributes,s=new Tn;if(n.POSITION!==void 0){const c=t.json.accessors[n.POSITION],a=c.min,l=c.max;if(a!==void 0&&l!==void 0){if(s.set(new G(a[0],a[1],a[2]),new G(l[0],l[1],l[2])),c.normalized){const h=Et(xe[c.componentType]);s.min.multiplyScalar(h),s.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const i=e.targets;if(i!==void 0){const c=new G,a=new G;for(let l=0,h=i.length;l<h;l++){const u=i[l];if(u.POSITION!==void 0){const f=t.json.accessors[u.POSITION],d=f.min,y=f.max;if(d!==void 0&&y!==void 0){if(a.setX(Math.max(Math.abs(d[0]),Math.abs(y[0]))),a.setY(Math.max(Math.abs(d[1]),Math.abs(y[1]))),a.setZ(Math.max(Math.abs(d[2]),Math.abs(y[2]))),f.normalized){const b=Et(xe[f.componentType]);a.multiplyScalar(b)}c.max(a)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(c)}r.boundingBox=s;const o=new bn;s.getCenter(o.center),o.radius=s.min.distanceTo(s.max)/2,r.boundingSphere=o}function ss(r,e,t){const n=e.attributes,s=[];function i(o,c){return t.getDependency("accessor",o).then(function(a){r.setAttribute(c,a)})}for(const o in n){const c=bt[o]||o.toLowerCase();c in r.attributes||s.push(i(n[o],c))}if(e.indices!==void 0&&!r.index){const o=t.getDependency("accessor",e.indices).then(function(c){r.setIndex(c)});s.push(o)}return mt.workingColorSpace!==re&&"COLOR_0"in n&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${mt.workingColorSpace}" not supported.`),le(r,e),wo(r,e,t),Promise.all(s).then(function(){return e.targets!==void 0?go(r,e.targets,t):r})}const Xe={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class Ve{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const xo=new _s(-1,1,1,-1,0,1);class Ro extends xt{constructor(){super(),this.setAttribute("position",new Ot([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Ot([0,2,0,0,2,0],2))}}const So=new Ro;class Ns{constructor(e){this._mesh=new ys(So,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,xo)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class vo extends Ve{constructor(e,t="tDiffuse"){super(),this.textureID=t,this.uniforms=null,this.material=null,e instanceof Ee?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=gt.clone(e.uniforms),this.material=new Ee({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this._fsQuad=new Ns(this.material)}render(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this._fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this._fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this._fsQuad.render(e))}dispose(){this.material.dispose(),this._fsQuad.dispose()}}class ns extends Ve{constructor(e,t){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,n){const s=e.getContext(),i=e.state;i.buffers.color.setMask(!1),i.buffers.depth.setMask(!1),i.buffers.color.setLocked(!0),i.buffers.depth.setLocked(!0);let o,c;this.inverse?(o=0,c=1):(o=1,c=0),i.buffers.stencil.setTest(!0),i.buffers.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),i.buffers.stencil.setFunc(s.ALWAYS,o,4294967295),i.buffers.stencil.setClear(c),i.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),i.buffers.color.setLocked(!1),i.buffers.depth.setLocked(!1),i.buffers.color.setMask(!0),i.buffers.depth.setMask(!0),i.buffers.stencil.setLocked(!1),i.buffers.stencil.setFunc(s.EQUAL,1,4294967295),i.buffers.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),i.buffers.stencil.setLocked(!0)}}class Ao extends Ve{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class Po{constructor(e,t){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),t===void 0){const n=e.getSize(new H);this._width=n.width,this._height=n.height,t=new Ge(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:ze}),t.texture.name="EffectComposer.rt1"}else this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new vo(Xe),this.copyPass.material.blending=En,this.clock=new wn}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const t=this.passes.indexOf(e);t!==-1&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const t=this.renderer.getRenderTarget();let n=!1;for(let s=0,i=this.passes.length;s<i;s++){const o=this.passes[s];if(o.enabled!==!1){if(o.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(s),o.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),o.needsSwap){if(n){const c=this.renderer.getContext(),a=this.renderer.state.buffers.stencil;a.setFunc(c.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),a.setFunc(c.EQUAL,1,4294967295)}this.swapBuffers()}ns!==void 0&&(o instanceof ns?n=!0:o instanceof Ao&&(n=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(e===void 0){const t=this.renderer.getSize(new H);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;const n=this._width*this._pixelRatio,s=this._height*this._pixelRatio;this.renderTarget1.setSize(n,s),this.renderTarget2.setSize(n,s);for(let i=0;i<this.passes.length;i++)this.passes[i].setSize(n,s)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class Mo extends Ve{constructor(e,t,n=null,s=null,i=null){super(),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=s,this.clearAlpha=i,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new ee}render(e,t,n){const s=e.autoClear;e.autoClear=!1;let i,o;this.overrideMaterial!==null&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(i=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(i),this.overrideMaterial!==null&&(this.scene.overrideMaterial=o),e.autoClear=s}}const Co={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new ee(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class ve extends Ve{constructor(e,t=1,n,s){super(),this.strength=t,this.radius=n,this.threshold=s,this.resolution=e!==void 0?new H(e.x,e.y):new H(256,256),this.clearColor=new ee(0,0,0),this.needsSwap=!1,this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let i=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2);this.renderTargetBright=new Ge(i,o,{type:ze}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let h=0;h<this.nMips;h++){const u=new Ge(i,o,{type:ze});u.texture.name="UnrealBloomPass.h"+h,u.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(u);const f=new Ge(i,o,{type:ze});f.texture.name="UnrealBloomPass.v"+h,f.texture.generateMipmaps=!1,this.renderTargetsVertical.push(f),i=Math.round(i/2),o=Math.round(o/2)}const c=Co;this.highPassUniforms=gt.clone(c.uniforms),this.highPassUniforms.luminosityThreshold.value=s,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Ee({uniforms:this.highPassUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader}),this.separableBlurMaterials=[];const a=[3,5,7,9,11];i=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2);for(let h=0;h<this.nMips;h++)this.separableBlurMaterials.push(this._getSeparableBlurMaterial(a[h])),this.separableBlurMaterials[h].uniforms.invSize.value=new H(1/i,1/o),i=Math.round(i/2),o=Math.round(o/2);this.compositeMaterial=this._getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1;const l=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=l,this.bloomTintColors=[new G(1,1,1),new G(1,1,1),new G(1,1,1),new G(1,1,1),new G(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,this.copyUniforms=gt.clone(Xe.uniforms),this.blendMaterial=new Ee({uniforms:this.copyUniforms,vertexShader:Xe.vertexShader,fragmentShader:Xe.fragmentShader,blending:xn,depthTest:!1,depthWrite:!1,transparent:!0}),this._oldClearColor=new ee,this._oldClearAlpha=1,this._basic=new be,this._fsQuad=new Ns(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this._basic.dispose(),this._fsQuad.dispose()}setSize(e,t){let n=Math.round(e/2),s=Math.round(t/2);this.renderTargetBright.setSize(n,s);for(let i=0;i<this.nMips;i++)this.renderTargetsHorizontal[i].setSize(n,s),this.renderTargetsVertical[i].setSize(n,s),this.separableBlurMaterials[i].uniforms.invSize.value=new H(1/n,1/s),n=Math.round(n/2),s=Math.round(s/2)}render(e,t,n,s,i){e.getClearColor(this._oldClearColor),this._oldClearAlpha=e.getClearAlpha();const o=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),i&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this._fsQuad.material=this._basic,this._basic.map=n.texture,e.setRenderTarget(null),e.clear(),this._fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this._fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this._fsQuad.render(e);let c=this.renderTargetBright;for(let a=0;a<this.nMips;a++)this._fsQuad.material=this.separableBlurMaterials[a],this.separableBlurMaterials[a].uniforms.colorTexture.value=c.texture,this.separableBlurMaterials[a].uniforms.direction.value=ve.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[a]),e.clear(),this._fsQuad.render(e),this.separableBlurMaterials[a].uniforms.colorTexture.value=this.renderTargetsHorizontal[a].texture,this.separableBlurMaterials[a].uniforms.direction.value=ve.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[a]),e.clear(),this._fsQuad.render(e),c=this.renderTargetsVertical[a];this._fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this._fsQuad.render(e),this._fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,i&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this._fsQuad.render(e)):(e.setRenderTarget(n),this._fsQuad.render(e)),e.setClearColor(this._oldClearColor,this._oldClearAlpha),e.autoClear=o}_getSeparableBlurMaterial(e){const t=[];for(let n=0;n<e;n++)t.push(.39894*Math.exp(-.5*n*n/(e*e))/e);return new Ee({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new H(.5,.5)},direction:{value:new H(.5,.5)},gaussianCoefficients:{value:t}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}_getCompositeMaterial(e){return new Ee({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}ve.BlurDirectionX=new H(1,0);ve.BlurDirectionY=new H(0,1);const ut=new WeakMap;class Lo extends fs{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,s){const i=new Ye(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,o=>{this.parse(o,t,s)},n,s)}parse(e,t,n=()=>{}){this.decodeDracoFile(e,t,null,null,pe,n).catch(n)}decodeDracoFile(e,t,n,s,i=re,o=()=>{}){const c={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:s||this.defaultAttributeTypes,useUniqueIDs:!!n,vertexColorSpace:i};return this.decodeGeometry(e,c).then(t).catch(o)}decodeGeometry(e,t){const n=JSON.stringify(t);if(ut.has(e)){const a=ut.get(e);if(a.key===n)return a.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let s;const i=this.workerNextTaskID++,o=e.byteLength,c=this._getWorker(i,o).then(a=>(s=a,new Promise((l,h)=>{s._callbacks[i]={resolve:l,reject:h},s.postMessage({type:"decode",id:i,taskConfig:t,buffer:e},[e])}))).then(a=>this._createGeometry(a.geometry));return c.catch(()=>!0).then(()=>{s&&i&&this._releaseTask(s,i)}),ut.set(e,{key:n,promise:c}),c}_createGeometry(e){const t=new xt;e.index&&t.setIndex(new Ne(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const s=e.attributes[n],i=s.name,o=s.array,c=s.itemSize,a=new Ne(o,c);i==="color"&&(this._assignVertexColorSpace(a,s.vertexColorSpace),a.normalized=!(o instanceof Float32Array)),t.setAttribute(i,a)}return t}_assignVertexColorSpace(e,t){if(t!==pe)return;const n=new ee;for(let s=0,i=e.count;s<i;s++)n.fromBufferAttribute(e,s),mt.colorSpaceToWorking(n,pe),e.setXYZ(s,n.r,n.g,n.b)}_loadLibrary(e,t){const n=new Ye(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((s,i)=>{n.load(e,s,void 0,i)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{const s=n[0];e||(this.decoderConfig.wasmBinary=n[1]);const i=ko.toString(),o=["/* draco decoder */",s,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const s=new Worker(this.workerSourceURL);s._callbacks={},s._taskCosts={},s._taskLoad=0,s.postMessage({type:"init",decoderConfig:this.decoderConfig}),s.onmessage=function(i){const o=i.data;switch(o.type){case"decode":s._callbacks[o.id].resolve(o);break;case"error":s._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(s)}else this.workerPool.sort(function(s,i){return s._taskLoad>i._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function ko(){let r,e;onmessage=function(o){const c=o.data;switch(c.type){case"init":r=c.decoderConfig,e=new Promise(function(h){r.onModuleLoaded=function(u){h({draco:u})},DracoDecoderModule(r)});break;case"decode":const a=c.buffer,l=c.taskConfig;e.then(h=>{const u=h.draco,f=new u.Decoder;try{const d=t(u,f,new Int8Array(a),l),y=d.attributes.map(b=>b.array.buffer);d.index&&y.push(d.index.array.buffer),self.postMessage({type:"decode",id:c.id,geometry:d},y)}catch(d){console.error(d),self.postMessage({type:"error",id:c.id,error:d.message})}finally{u.destroy(f)}});break}};function t(o,c,a,l){const h=l.attributeIDs,u=l.attributeTypes;let f,d;const y=c.GetEncodedGeometryType(a);if(y===o.TRIANGULAR_MESH)f=new o.Mesh,d=c.DecodeArrayToMesh(a,a.byteLength,f);else if(y===o.POINT_CLOUD)f=new o.PointCloud,d=c.DecodeArrayToPointCloud(a,a.byteLength,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!d.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+d.error_msg());const b={index:null,attributes:[]};for(const _ in h){const w=self[u[_]];let E,R;if(l.useUniqueIDs)R=h[_],E=c.GetAttributeByUniqueId(f,R);else{if(R=c.GetAttributeId(f,o[h[_]]),R===-1)continue;E=c.GetAttribute(f,R)}const A=s(o,c,f,_,w,E);_==="color"&&(A.vertexColorSpace=l.vertexColorSpace),b.attributes.push(A)}return y===o.TRIANGULAR_MESH&&(b.index=n(o,c,f)),o.destroy(f),b}function n(o,c,a){const h=a.num_faces()*3,u=h*4,f=o._malloc(u);c.GetTrianglesUInt32Array(a,u,f);const d=new Uint32Array(o.HEAPF32.buffer,f,h).slice();return o._free(f),{array:d,itemSize:1}}function s(o,c,a,l,h,u){const f=u.num_components(),y=a.num_points()*f,b=y*h.BYTES_PER_ELEMENT,_=i(o,h),w=o._malloc(b);c.GetAttributeDataArrayForAllPoints(a,u,_,b,w);const E=new h(o.HEAPF32.buffer,w,y).slice();return o._free(w),{name:l,array:E,itemSize:f}}function i(o,c){switch(c){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}const Oo="modulepreload",Do=function(r){return"/"+r},is={},os=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){let a=function(l){return Promise.all(l.map(h=>Promise.resolve(h).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");s=a(t.map(l=>{if(l=Do(l),l in is)return;is[l]=!0;const h=l.endsWith(".css"),u=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":Oo,h||(f.as="script"),f.crossOrigin="",f.href=l,c&&f.setAttribute("nonce",c),document.head.appendChild(f),h)return new Promise((d,y)=>{f.addEventListener("load",d),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},No=[[.49650761345771266,-1.0606558808912503,6.2845161814522115],[.9583937513810281,-1.0606558808912503,6.294304970293638],[1.8442215121630874,-1.0606558808912503,6.571130858557659],[2.42615800299582,-1.0606558808912503,6.3841925030782285],[3.0798542247189147,-1.0606558808912503,6.127776778794565],[3.38656475884737,-1.1275052719376308,5.444649212684406],[4.331741594191996,-1.2802350858173812,4.592939770220633],[4.894800681588488,-1.2802352187768802,3.987954730698398],[5.262245380982037,-1.280235452374493,3.1978111803001803],[5.551714037796255,-1.2802357564015685,2.2522420945808728],[5.5971748613754,-1.280236088257658,1.3387806243551161],[5.568839185971972,-1.2802367124288954,-.32936496943253596],[5.583698626706229,-1.280237123355088,-1.442298273388659],[5.195122073603173,-1.2802373960409328,-2.0060485300057205],[4.70796570783172,-1.2802376674048268,-2.5229961968477266],[4.18388975225198,-1.2802378742530853,-2.8500408458259274],[3.2364659284242183,-1.2802382290232837,-3.3896571912687103],[1.997866846215806,-1.2802386827407,-4.067960285398669],[1.4351107716974336,-1.2802389658766136,-4.583441249773226],[.9657576981193152,-1.2802392322034606,-5.0946363267516785],[.14144514087314888,-1.280239651042711,-5.860762228166351],[-.5816609213099817,-1.0606558808912503,-6.23506925412251],[-1.894783183274925,-1.0606558808912503,-6.514133140175161],[-2.642228647896371,-1.0606558808912532,-6.315848646357396],[-3.299219280343374,-1.1467660691813348,-5.359190168027595],[-4.320726909890928,-1.2802399635377528,-4.744765235764744],[-4.999986438493222,-1.2802395198050964,-3.2520535560687724],[-5.660952780841233,-1.28023931114054,-2.4002850888670246],[-6.038099781762036,-1.2802389465253063,-1.2531215303937195],[-5.7237376258456925,-1.2802384233414417,.017647395084223957],[-5.32686432170923,-1.2802378140592494,1.4840407612062865],[-4.7058621741654365,-1.2802373703735395,2.406250194358528],[-4.068691809830693,-1.2802369313073365,3.3089292097366143],[-3.4915047191594657,-1.2802365127036288,4.182825584896967],[-2.811567569052117,-1.280236434445323,4.095272530721708],[-2.4647800351658353,-1.2802364416899399,3.923643816626193],[-1.1130885696418864,-1.2802360275200475,4.445856248337163],[-.3134657740159923,-1.2802356259462133,5.176325683459985],[.29769650195761904,-1.2802352931099077,5.80439039687356]],Io=[[-7.363,-.659,1.228],[-7.056,-.927,-.971],[-7.151,-1.25,-.356]],Fo=200,Uo=[[6.732,-.645,1.407],[6.452,-1.087,-1.49],[6.494,-1.25,-.566]],rs={start:[-12.417,-1.086,-3.169],end:[11.089,-.594,-.423]},as={start:[12.616,-.143,3.148],end:[-11.089,-.032,.28]},Vo=50,jo=.1,Bo=1e3,ht=.5,Ho=5,cs=.5;function wt(){return wt=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},wt.apply(this,arguments)}var Go={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(r){},onComplete:function(r){},preStringTyped:function(r,e){},onStringTyped:function(r,e){},onLastStringBackspaced:function(r){},onTypingPaused:function(r,e){},onTypingResumed:function(r,e){},onReset:function(r){},onStop:function(r,e){},onStart:function(r,e){},onDestroy:function(r){}},zo=new((function(){function r(){}var e=r.prototype;return e.load=function(t,n,s){if(t.el=typeof s=="string"?document.querySelector(s):s,t.options=wt({},Go,n),t.isInput=t.el.tagName.toLowerCase()==="input",t.attr=t.options.attr,t.bindInputFocusEvents=t.options.bindInputFocusEvents,t.showCursor=!t.isInput&&t.options.showCursor,t.cursorChar=t.options.cursorChar,t.cursorBlinking=!0,t.elContent=t.attr?t.el.getAttribute(t.attr):t.el.textContent,t.contentType=t.options.contentType,t.typeSpeed=t.options.typeSpeed,t.startDelay=t.options.startDelay,t.backSpeed=t.options.backSpeed,t.smartBackspace=t.options.smartBackspace,t.backDelay=t.options.backDelay,t.fadeOut=t.options.fadeOut,t.fadeOutClass=t.options.fadeOutClass,t.fadeOutDelay=t.options.fadeOutDelay,t.isPaused=!1,t.strings=t.options.strings.map(function(l){return l.trim()}),t.stringsElement=typeof t.options.stringsElement=="string"?document.querySelector(t.options.stringsElement):t.options.stringsElement,t.stringsElement){t.strings=[],t.stringsElement.style.cssText="clip: rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;";var i=Array.prototype.slice.apply(t.stringsElement.children),o=i.length;if(o)for(var c=0;c<o;c+=1)t.strings.push(i[c].innerHTML.trim())}for(var a in t.strPos=0,t.currentElContent=this.getCurrentElContent(t),t.currentElContent&&t.currentElContent.length>0&&(t.strPos=t.currentElContent.length-1,t.strings.unshift(t.currentElContent)),t.sequence=[],t.strings)t.sequence[a]=a;t.arrayPos=0,t.stopNum=0,t.loop=t.options.loop,t.loopCount=t.options.loopCount,t.curLoop=0,t.shuffle=t.options.shuffle,t.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},t.typingComplete=!1,t.autoInsertCss=t.options.autoInsertCss,t.autoInsertCss&&(this.appendCursorAnimationCss(t),this.appendFadeOutAnimationCss(t))},e.getCurrentElContent=function(t){return t.attr?t.el.getAttribute(t.attr):t.isInput?t.el.value:t.contentType==="html"?t.el.innerHTML:t.el.textContent},e.appendCursorAnimationCss=function(t){var n="data-typed-js-cursor-css";if(t.showCursor&&!document.querySelector("["+n+"]")){var s=document.createElement("style");s.setAttribute(n,"true"),s.innerHTML=`
        .typed-cursor{
          opacity: 1;
        }
        .typed-cursor.typed-cursor--blink{
          animation: typedjsBlink 0.7s infinite;
          -webkit-animation: typedjsBlink 0.7s infinite;
                  animation: typedjsBlink 0.7s infinite;
        }
        @keyframes typedjsBlink{
          50% { opacity: 0.0; }
        }
        @-webkit-keyframes typedjsBlink{
          0% { opacity: 1; }
          50% { opacity: 0.0; }
          100% { opacity: 1; }
        }
      `,document.body.appendChild(s)}},e.appendFadeOutAnimationCss=function(t){var n="data-typed-fadeout-js-css";if(t.fadeOut&&!document.querySelector("["+n+"]")){var s=document.createElement("style");s.setAttribute(n,"true"),s.innerHTML=`
        .typed-fade-out{
          opacity: 0;
          transition: opacity .25s;
        }
        .typed-cursor.typed-cursor--blink.typed-fade-out{
          -webkit-animation: 0;
          animation: 0;
        }
      `,document.body.appendChild(s)}},r})()),ls=new((function(){function r(){}var e=r.prototype;return e.typeHtmlChars=function(t,n,s){if(s.contentType!=="html")return n;var i=t.substring(n).charAt(0);if(i==="<"||i==="&"){var o;for(o=i==="<"?">":";";t.substring(n+1).charAt(0)!==o&&!(1+ ++n>t.length););n++}return n},e.backSpaceHtmlChars=function(t,n,s){if(s.contentType!=="html")return n;var i=t.substring(n).charAt(0);if(i===">"||i===";"){var o;for(o=i===">"?"<":"&";t.substring(n-1).charAt(0)!==o&&!(--n<0););n--}return n},r})()),Ko=(function(){function r(t,n){zo.load(this,n,t),this.begin()}var e=r.prototype;return e.toggle=function(){this.pause.status?this.start():this.stop()},e.stop=function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))},e.start=function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))},e.destroy=function(){this.reset(!1),this.options.onDestroy(this)},e.reset=function(t){t===void 0&&(t=!0),clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,t&&(this.insertCursor(),this.options.onReset(this),this.begin())},e.begin=function(){var t=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){t.strPos===0?t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos):t.backspace(t.strings[t.sequence[t.arrayPos]],t.strPos)},this.startDelay)},e.typewrite=function(t,n){var s=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var i=this.humanizer(this.typeSpeed),o=1;this.pause.status!==!0?this.timeout=setTimeout(function(){n=ls.typeHtmlChars(t,n,s);var c=0,a=t.substring(n);if(a.charAt(0)==="^"&&/^\^\d+/.test(a)){var l=1;l+=(a=/\d+/.exec(a)[0]).length,c=parseInt(a),s.temporaryPause=!0,s.options.onTypingPaused(s.arrayPos,s),t=t.substring(0,n)+t.substring(n+l),s.toggleBlinking(!0)}if(a.charAt(0)==="`"){for(;t.substring(n+o).charAt(0)!=="`"&&(o++,!(n+o>t.length)););var h=t.substring(0,n),u=t.substring(h.length+1,n+o),f=t.substring(n+o+1);t=h+u+f,o--}s.timeout=setTimeout(function(){s.toggleBlinking(!1),n>=t.length?s.doneTyping(t,n):s.keepTyping(t,n,o),s.temporaryPause&&(s.temporaryPause=!1,s.options.onTypingResumed(s.arrayPos,s))},c)},i):this.setPauseStatus(t,n,!0)},e.keepTyping=function(t,n,s){n===0&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var i=t.substring(0,n+=s);this.replaceText(i),this.typewrite(t,n)},e.doneTyping=function(t,n){var s=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),this.loop===!1||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){s.backspace(t,n)},this.backDelay))},e.backspace=function(t,n){var s=this;if(this.pause.status!==!0){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var i=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){n=ls.backSpaceHtmlChars(t,n,s);var o=t.substring(0,n);if(s.replaceText(o),s.smartBackspace){var c=s.strings[s.arrayPos+1];s.stopNum=c&&o===c.substring(0,n)?n:0}n>s.stopNum?(n--,s.backspace(t,n)):n<=s.stopNum&&(s.arrayPos++,s.arrayPos===s.strings.length?(s.arrayPos=0,s.options.onLastStringBackspaced(),s.shuffleStringsIfNeeded(),s.begin()):s.typewrite(s.strings[s.sequence[s.arrayPos]],n))},i)}else this.setPauseStatus(t,n,!1)},e.complete=function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0},e.setPauseStatus=function(t,n,s){this.pause.typewrite=s,this.pause.curString=t,this.pause.curStrPos=n},e.toggleBlinking=function(t){this.cursor&&(this.pause.status||this.cursorBlinking!==t&&(this.cursorBlinking=t,t?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))},e.humanizer=function(t){return Math.round(Math.random()*t/2)+t},e.shuffleStringsIfNeeded=function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))},e.initFadeOut=function(){var t=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){t.arrayPos++,t.replaceText(""),t.strings.length>t.arrayPos?t.typewrite(t.strings[t.sequence[t.arrayPos]],0):(t.typewrite(t.strings[0],0),t.arrayPos=0)},this.fadeOutDelay)},e.replaceText=function(t){this.attr?this.el.setAttribute(this.attr,t):this.isInput?this.el.value=t:this.contentType==="html"?this.el.innerHTML=t:this.el.textContent=t},e.bindFocusEvents=function(){var t=this;this.isInput&&(this.el.addEventListener("focus",function(n){t.stop()}),this.el.addEventListener("blur",function(n){t.el.value&&t.el.value.length!==0||t.start()}))},e.insertCursor=function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))},r})();const Xo={strings:["火热招新中！","面向25与24级同学","成为青年工程师","与全国高校同台竞技","加入我们，开启你的Robomaster之旅！","苍穹战队欢迎你！"],typeSpeed:80,backSpeed:50,loop:!0,showCursor:!1,backDelay:2e3},qo=50,Yo=Vue.defineComponent({__name:"HomeView",setup(r){const e=Vue.ref(null),t=Vue.ref(null),n=Vue.ref([]),s=Vue.ref(!1);let i,o,c,a,l,h,u,f=0,d,y,b=0,_,w,E,R=0,A,j=0,N,k,W,Y=[],ne,Ae,Pe=0,ie=[];const $e=Si(),te=[],je=new S.Vector3(-1,0,1).normalize(),ge=()=>{$e.push("/recruitment")},Me=O=>{if(!s.value||!e.value||!c||!o)return;const p=new S.Vector2;p.x=O.clientX/e.value.clientWidth*2-1,p.y=-(O.clientY/e.value.clientHeight)*2+1;const g=new S.Raycaster;g.setFromCamera(p,c);const m=g.intersectObjects(o.children,!0);for(const T of m){const P=T.point,M=new S.SphereGeometry(.1,16,16),v=new S.MeshBasicMaterial({color:65280}),x=new S.Mesh(M,v);x.position.copy(P),o.add(x),n.value.push(P);break}},Je=()=>{const O=n.value.map(p=>`[${p.x.toFixed(3)}, ${p.y.toFixed(3)}, ${p.z.toFixed(3)}]`);console.log(`[${O.join(", ")}]`)},Ce=O=>{if(!o)return;const p=new S.Vector3().fromArray(O[0]),g=new S.Vector3().fromArray(O[1]),m=new S.Vector3().fromArray(O[2]),T=new S.SphereGeometry(.033,16,16),P=new S.MeshBasicMaterial({color:65280}),M=new S.Mesh(T,P);o.add(M);const v=500,x=250,I=375;let z=null;const F=D=>{z||(z=D);const V=D-z,K=v+x+I;if(V<v){const L=V/v,$=p.clone().lerp(g,.5);$.y=p.y,M.position.set((1-L)*(1-L)*p.x+2*(1-L)*L*$.x+L*L*g.x,(1-L)*(1-L)*p.y+2*(1-L)*L*$.y+L*L*g.y,(1-L)*(1-L)*p.z+2*(1-L)*L*$.z+L*L*g.z)}else if(V<v+x){const L=(V-v)/x;M.position.copy(g).lerp(m,L)}else if(V<K){const L=(V-(v+x))/I;if(!M.userData.targetNeighbor){const $=Math.random()*Math.PI*2,q=Math.random()*1;M.userData.targetNeighbor=new S.Vector3(m.x+q*Math.cos($),m.y,m.z+q*Math.sin($))}M.position.copy(m).lerp(M.userData.targetNeighbor,L)}else{setTimeout(()=>{o.remove(M),M.geometry.dispose(),M.material.dispose()},2e3);return}requestAnimationFrame(F)};requestAnimationFrame(F)};async function oe(O,p){const g=await O.loadAsync(p);return g.scene.traverse(m=>{m instanceof S.Mesh&&(m.castShadow=!0)}),g.scene}function Le(O,p,g,m){const T={pair1:[new S.Vector3(-7.035,-1.28,-1.086),new S.Vector3(-7.328,-1.28,1.31)],pair2:[new S.Vector3(6.271,-1.28,-1.712),new S.Vector3(6.748,-1.28,1.515)]},P=new S.Group,M=O.clone(),v=p.clone();P.add(M,v),P.position.copy(T.pair1[0]),P.lookAt(T.pair1[1]),o.add(P),te.push(v);const x=new S.Group,I=g.clone(),z=m.clone();x.add(I,z),x.position.copy(T.pair1[1]),x.lookAt(T.pair1[0]),o.add(x),te.push(z);const F=new S.Group,D=O.clone(),V=p.clone();F.add(D,V),F.position.copy(T.pair2[0]),F.lookAt(T.pair2[1]),o.add(F),te.push(V);const K=new S.Group,L=g.clone(),$=m.clone();K.add(L,$),K.position.copy(T.pair2[1]),K.lookAt(T.pair2[0]),o.add(K),te.push($)}function ue(O,p){const g=new S.Vector3().fromArray(O.start),m=new S.Vector3().fromArray(O.end),T=[],P=10,M=(m.x-g.x)/(P+1);for(let x=0;x<P;x++){const I=g.x+(x+1)*M,z=(I-g.x)/(m.x-g.x);let F=(m.y-g.y)*z+g.y+4*(Ho-(g.y+m.y)/2)*z*(1-z);F+=S.MathUtils.randFloat(-cs,cs);const D=S.MathUtils.randFloat(g.z,m.z);T.push(new S.Vector3(I,F,D))}const v=[g,...T,m];p.copy(new S.CatmullRomCurve3(v,!1))}function ye(O){const p=new S.MeshBasicMaterial({color:16766720,transparent:!0,opacity:1});for(let g=0;g<Vo;g++){const m=new S.Mesh(ne,p.clone());m.position.copy(O).add(new S.Vector3((Math.random()-.5)*2*ht,(Math.random()-.5)*2*ht,(Math.random()-.5)*2*ht));const T=new S.Vector3((Math.random()-.5)*2,(Math.random()-.5)*2,(Math.random()-.5)*2).normalize().multiplyScalar(jo);o.add(m),ie.push({mesh:m,velocity:T,lifetime:Bo})}}async function Be(){new Ko(".typed-text",Xo)}return Vue.onMounted(async()=>{if(!e.value)return;Be(),o=new S.Scene,c=new S.PerspectiveCamera(75,e.value.clientWidth/e.value.clientHeight,.1,1e3),c.position.set(0,10,15),i=new S.WebGLRenderer({antialias:!0}),i.shadowMap.enabled=!0,i.shadowMap.type=S.PCFSoftShadowMap,i.setSize(e.value.clientWidth,e.value.clientHeight),e.value.appendChild(i.domElement),a=new Pi(c,i.domElement),a.enableDamping=!0,l=new Po(i),l.addPass(new Mo(o,c));const O=new ve(new S.Vector2(e.value.clientWidth,e.value.clientHeight),1.5,.4,.85);O.threshold=.1,O.strength=.3,O.radius=.1,l.addPass(O),o.add(new S.AmbientLight(16777215,.5));const p=new S.DirectionalLight(16777215,.8);p.position.set(5,10,5),p.castShadow=!0,Object.assign(p.shadow.camera,{near:.5,far:50,left:-10,right:10,top:10,bottom:-10}),o.add(p);const g=No.map(D=>new S.Vector3(D[0],D[1],D[2]));u=new S.CatmullRomCurve3(g,!0);const m=new Bi,T=new Lo;T.setDecoderPath("https://cdn.jsdelivr.net/npm/three@0.179.1/examples/jsm/libs/draco/"),T.preload(),m.setDRACOLoader(T),oe(m,"/assets/ground.glb").then(D=>{D.traverse(V=>{V instanceof S.Mesh&&(V.receiveShadow=!0)}),o.add(D)}),oe(m,"/assets/fan.glb").then(D=>{h=new S.Object3D,h.position.set(0,1.03,0),h.add(D),o.add(h)}),oe(m,"/assets/rocket.glb").then(D=>{d=D,d.scale.set(.1,.1,.1),o.add(d);const V=new S.ConeGeometry(.05,.2,8),K=new S.MeshBasicMaterial({color:16729344});_=new S.Mesh(V,K),_.position.set(0,0,-.5),d.add(_),y=new S.CatmullRomCurve3,ue(rs,y),w=D.clone(),w.scale.set(.1,.1,.1),o.add(w),w.visible=!1,A=new S.Mesh(V,K),A.position.set(0,0,-.5),w.add(A),E=new S.CatmullRomCurve3,ue(as,E),j=0,N=d,k=y,W=0}),ne=new S.SphereGeometry(.04,8,8),Ae=new S.MeshBasicMaterial({color:16766720,transparent:!0,opacity:1});let P,M;Promise.all([oe(m,"/assets/4wheel_head.glb"),oe(m,"/assets/4wheel_base.glb"),oe(m,"/assets/hero_head.glb"),oe(m,"/assets/hero_base.glb")]).then(([D,V,K,L])=>{P=new S.Group,P.add(D,V),o.add(P),te.push(V),M=new S.Group,M.add(K,L),o.add(M),te.push(L),Le(D,V,K,L)});let v=0;const x=D=>{requestAnimationFrame(x),a.update();const V=D-v;if(v=D,h&&h.rotateOnAxis(je,.01),f=(f+.001)%1,P){const K=u.getPointAt(f);P.position.copy(K),P.lookAt(u.getPointAt((f+.01)%1))}if(M){const K=(f+.5)%1,L=u.getPointAt(K);M.position.copy(L),M.lookAt(u.getPointAt((K+.01)%1))}if(N){j===0?(b=b+.002*(b*3+1),W=b):(R=R+.002*(R*3+1),W=R),W>1&&(ye(N.position.clone()),j===0?(b=0,d.visible=!1):(R=0,w.visible=!1),j=1-j,j===0?(N=d,k=y,W=b,ue(rs,y)):(N=w,k=E,W=R,ue(as,E)),N.visible=!0,N.position.copy(k.getPointAt(0)));const K=k.getPointAt(W);N.position.copy(K);const L=k.getTangentAt(W).normalize(),$=new S.Vector3(0,1,0);if(N.quaternion.setFromUnitVectors($,L),D-Pe>qo){const q=new S.Mesh(ne,Ae.clone()),Q=new S.Vector3(0,0,-.2).applyQuaternion(N.quaternion);q.position.copy(N.position).add(Q),o.add(q),Y.push(q),Pe=D}for(let q=Y.length-1;q>=0;q--){const Q=Y[q];Q.scale.multiplyScalar(.98),Q.scale.x<.01&&(o.remove(Q),Q.geometry.dispose(),Y.splice(q,1))}te.forEach(q=>{q.rotation.y+=.1}),o.rotation.y+=.007;for(let q=ie.length-1;q>=0;q--){const Q=ie[q];Q.mesh.position.add(Q.velocity.clone().multiplyScalar(V/1e3)),Q.lifetime-=V,Q.mesh.scale.multiplyScalar(.99),(Q.lifetime<=0||Q.mesh.scale.x<.01)&&(o.remove(Q.mesh),Q.mesh.geometry.dispose(),ie.splice(q,1))}l.render()}};x(0);const I=()=>{if(!e.value)return;const{clientWidth:D,clientHeight:V}=e.value;c.aspect=D/V,c.updateProjectionMatrix(),i.setSize(D,V),l.setSize(D,V)};window.addEventListener("resize",I),e.value&&e.value.addEventListener("mousedown",Me),t.value&&t.value.addEventListener("click",Je);let z=0;const F=[Io,Uo];setInterval(()=>{Ce(F[z]),z=(z+1)%F.length},Fo)}),(O,p)=>(Vue.openBlock(),Vue.createElementBlock("div",{ref_key:"container",ref:e,class:"container"},[Vue.createElementVNode("div",{class:"text-board"},[p[0]||(p[0]=Vue.createElementVNode("h2",{class:"heading"},"合肥工业大学@Robomaster",-1)),p[1]||(p[1]=Vue.createElementVNode("h1",{class:"team-board"},"苍穹战队",-1)),p[2]||(p[2]=Vue.createElementVNode("h1",{class:"typed-text"},"火热招新中",-1)),Vue.createElementVNode("div",{onClick:ge,class:"chk-button"},"查看详情")]),s.value?(Vue.openBlock(),Vue.createElementBlock("button",{key:0,ref_key:"outputButton",ref:t,class:"output-button"},"Output Ball Positions",512)):Vue.createCommentVNode("",!0),p[3]||(p[3]=Vue.createElementVNode("div",{class:"footer"},"2025 苍穹战队, 网站由TINYWANG建立维护",-1))],512))}}),Is=(r,e)=>{const t=r.__vccOpts||r;for(const[n,s]of e)t[n]=s;return t},Fs=Is(Yo,[["__scopeId","data-v-9ed5488c"]]),Wo={class:"navbar"},Qo=Vue.defineComponent({__name:"App",setup(r){const e=vi(),t=Vue.computed(()=>e.name==="home");return(n,s)=>(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[Vue.createElementVNode("header",Wo,[Vue.createElementVNode("nav",null,[Vue.createVNode(Vue.unref(Ke),{to:"/"},{default:Vue.withCtx(()=>s[0]||(s[0]=[Vue.createTextVNode("演示场",-1)])),_:1,__:[0]}),Vue.createVNode(Vue.unref(Ke),{to:"/recruitment"},{default:Vue.withCtx(()=>s[1]||(s[1]=[Vue.createTextVNode("战队招新",-1)])),_:1,__:[1]}),Vue.createVNode(Vue.unref(Ke),{to:"/about"},{default:Vue.withCtx(()=>s[2]||(s[2]=[Vue.createTextVNode("关于",-1)])),_:1,__:[2]})])]),Vue.createElementVNode("div",{class:Vue.normalizeClass(["home-view-container",{blurred:!t.value}])},[Vue.createVNode(Fs)],2),t.value?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(Vue.unref(Ls),{key:0,class:"router-view-overlay"}))],64))}}),Zo=Is(Qo,[["__scopeId","data-v-f0b75b4a"]]),$o=xi({history:ei(),routes:[{path:"/",name:"home",component:Fs},{path:"/about",name:"about",component:()=>os(()=>import("./AboutView-BiUnTX1E.js"),__vite__mapDeps([0,1]))},{path:"/recruitment",name:"recruitment",component:()=>os(()=>import("./RecruitmentView-DBttsBlG.js"),__vite__mapDeps([2,3]))}]}),At=Vue.createApp(Zo);At.use(Sn());At.use($o);At.mount("#app");export{Is as _};
